(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7741],{98819:function(t,e,n){"use strict";n.d(e,{J:function(){return a}});var r=n(67294);let i={top:0,right:0,bottom:0,left:0};function a(t={}){let{rect:e,contextElement:n}=t,a=r.useRef(i),l=r.useRef({contextElement:n,getBoundingClientRect(){let{top:t,right:e,bottom:n,left:r}=a.current;return{top:t,right:e,bottom:n,left:r,width:e-r,height:n-t}}});if(l.current.contextElement=n,e){let{top:t=0,left:n=0,right:r=n,bottom:i=t}=e;a.current={top:t,right:r,bottom:i,left:n}}else a.current=i;return l}},44174:function(t){t.exports=function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var l=t[i];e(r,l,n(l),t)}return r}},81119:function(t,e,n){var r=n(89881);t.exports=function(t,e,n,i){return r(t,function(t,r,a){e(i,t,n(t),a)}),i}},55189:function(t,e,n){var r=n(44174),i=n(81119),a=n(67206),l=n(1469);t.exports=function(t,e){return function(n,o){var s=l(n)?r:i,u=e?e():{};return s(n,t,a(o,2),u)}}},66678:function(t,e,n){var r=n(85990);t.exports=function(t){return r(t,4)}},7739:function(t,e,n){var r=n(89465),i=n(55189),a=Object.prototype.hasOwnProperty,l=i(function(t,e,n){a.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=l},14293:function(t){t.exports=function(t){return null==t}},7741:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return s6}});var r,i,a,l,o,s,u,c,h,d,f,p,g,m,y,v=n(67294),b=[],x=new MessageChannel,_=(function(){this.postMessage(void 0)}).bind(x.port2);x.port1.onmessage=function(){var t=b;b=[];for(var e=performance.now(),n=0;n<t.length;n++)t[n](e)},x=null;var w=function(t){1===b.push(t)&&requestAnimationFrame(_)};function M(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function A(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k(t){let e,n,r;function i(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{let e=i+a>>>1;0>n(t[e],r)?i=e+1:a=e}while(i<a)}return i}return 2!==t.length?(e=M,n=(e,n)=>M(t(e),n),r=(e,n)=>t(e)-n):(e=t===M||t===A?t:S,n=t,r=t),{left:i,center:function(t,e,n=0,a=t.length){let l=i(t,e,n,a-1);return l>n&&r(t[l-1],e)>-r(t[l],e)?l-1:l},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{let e=i+a>>>1;0>=n(t[e],r)?i=e+1:a=e}while(i<a)}return i}}}function S(){return 0}function E(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class D extends Map{constructor(t,e=C){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(T(this,t))}has(t){return super.has(T(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function T({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function C(t){return null!==t&&"object"==typeof t?t.valueOf():t}function N(t){return t}function L(t,...e){return function t(n,r){if(r>=e.length)return N(n);let i=new D,a=e[r++],l=-1;for(let t of n){let e=a(t,++l,n),r=i.get(e);r?r.push(t):i.set(e,[t])}for(let[e,n]of i)i.set(e,t(n,r));return N(i)}(t,0)}function I(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function $(t,...e){if("function"!=typeof t[Symbol.iterator])throw TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){var r;let i=Uint32Array.from(t,(t,e)=>e);return e.length>1?(e=e.map(e=>t.map(e)),i.sort((t,n)=>{for(let r of e){let e=z(r[t],r[n]);if(e)return e}})):(n=t.map(n),i.sort((t,e)=>z(n[t],n[e]))),r=t,Array.from(i,t=>r[t])}return t.sort(function(t=M){if(t===M)return z;if("function"!=typeof t)throw TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}(n))}function z(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function O(t){return t}function j(t){return"translate("+t+",0)"}function R(t){return"translate(0,"+t+")"}function F(){return!this.__axis}function W(t,e){var n=[],r=null,i=null,a=6,l=6,o=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",h=1===t||3===t?j:R;function d(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):O:i,g=Math.max(a,0)+o,m=e.range(),y=+m[0]+s,v=+m[m.length-1]+s,b=(e.bandwidth?function(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}:function(t){return e=>+t(e)})(e.copy(),s),x=d.selection?d.selection():d,_=x.selectAll(".domain").data([null]),w=x.selectAll(".tick").data(f,e).order(),M=w.exit(),A=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(A),k=k.merge(A.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),S=S.merge(A.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==x&&(_=_.transition(d),w=w.transition(d),k=k.transition(d),S=S.transition(d),M=M.transition(d).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=b(t))?h(t+s):this.getAttribute("transform")}),A.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:b(t))+s)})),M.remove(),_.attr("d",4===t||2===t?l?"M"+u*l+","+y+"H"+s+"V"+v+"H"+u*l:"M"+s+","+y+"V"+v:l?"M"+y+","+u*l+"V"+s+"H"+v+"V"+u*l:"M"+y+","+s+"H"+v),w.attr("opacity",1).attr("transform",function(t){return h(b(t)+s)}),k.attr(c+"2",u*a),S.attr(c,u*g).text(p),x.filter(F).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),x.each(function(){this.__axis=b})}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(a=l=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(l=+t,d):l},d.tickPadding=function(t){return arguments.length?(o=+t,d):o},d.offset=function(t){return arguments.length?(s=+t,d):s},d}function H(){}function U(t){return null==t?H:function(){return this.querySelector(t)}}function P(){return[]}function Y(t){return null==t?P:function(){return this.querySelectorAll(t)}}function B(t){return function(){return this.matches(t)}}function q(t){return function(e){return e.matches(t)}}var V=Array.prototype.find;function X(){return this.firstElementChild}var G=Array.prototype.filter;function K(){return Array.from(this.children)}function Z(t){return Array(t.length)}function J(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Q(t,e,n,r,i,a){for(var l,o=0,s=e.length,u=a.length;o<u;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new J(t,a[o]);for(;o<s;++o)(l=e[o])&&(i[o]=l)}function tt(t,e,n,r,i,a,l){var o,s,u,c=new Map,h=e.length,d=a.length,f=Array(h);for(o=0;o<h;++o)(s=e[o])&&(f[o]=u=l.call(s,s.__data__,o,e)+"",c.has(u)?i[o]=s:c.set(u,s));for(o=0;o<d;++o)u=l.call(t,a[o],o,a)+"",(s=c.get(u))?(r[o]=s,s.__data__=a[o],c.delete(u)):n[o]=new J(t,a[o]);for(o=0;o<h;++o)(s=e[o])&&c.get(f[o])===s&&(i[o]=s)}function te(t){return t.__data__}function tn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}J.prototype={constructor:J,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var tr="http://www.w3.org/1999/xhtml",ti={svg:"http://www.w3.org/2000/svg",xhtml:tr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ta(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ti.hasOwnProperty(e)?{space:ti[e],local:t}:t}function tl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function to(t,e){return t.style.getPropertyValue(e)||tl(t).getComputedStyle(t,null).getPropertyValue(e)}function ts(t){return t.trim().split(/^|\s+/)}function tu(t){return t.classList||new tc(t)}function tc(t){this._node=t,this._names=ts(t.getAttribute("class")||"")}function th(t,e){for(var n=tu(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function td(t,e){for(var n=tu(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tf(){this.textContent=""}function tp(){this.innerHTML=""}function tg(){this.nextSibling&&this.parentNode.appendChild(this)}function tm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ty(t){var e=ta(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tr&&e.documentElement.namespaceURI===tr?e.createElement(t):e.createElementNS(n,t)}})(e)}function tv(){return null}function tb(){var t=this.parentNode;t&&t.removeChild(this)}function tx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function t_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tw(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)(n=e[r],t.type&&n.type!==t.type||n.name!==t.name)?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function tM(t,e,n){return function(){var r,i=this.__on,a=function(t){e.call(this,t,this.__data__)};if(i){for(var l=0,o=i.length;l<o;++l)if((r=i[l]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=e;return}}this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function tA(t,e,n){var r=tl(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}tc.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tk=[null];function tS(t,e){this._groups=t,this._parents=e}function tE(){return new tS([[document.documentElement]],tk)}tS.prototype=tE.prototype={constructor:tS,select:function(t){"function"!=typeof t&&(t=U(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var a,l,o=e[i],s=o.length,u=r[i]=Array(s),c=0;c<s;++c)(a=o[c])&&(l=t.call(a,a.__data__,c,o))&&("__data__"in a&&(l.__data__=a.__data__),u[c]=l);return new tS(r,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=Y(t);for(var n=this._groups,r=n.length,i=[],a=[],l=0;l<r;++l)for(var o,s=n[l],u=s.length,c=0;c<u;++c)(o=s[c])&&(i.push(t.call(o,o.__data__,c,s)),a.push(o));return new tS(i,a)},selectChild:function(t){var e;return this.select(null==t?X:(e="function"==typeof t?t:q(t),function(){return V.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?K:(e="function"==typeof t?t:q(t),function(){return G.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=B(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var a,l=e[i],o=l.length,s=r[i]=[],u=0;u<o;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&s.push(a);return new tS(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,te);var n=e?tt:Q,r=this._parents,i=this._groups;"function"!=typeof t&&(v=t,t=function(){return v});for(var a=i.length,l=Array(a),o=Array(a),s=Array(a),u=0;u<a;++u){var c=r[u],h=i[u],d=h.length,f="object"==typeof(y=t.call(c,c&&c.__data__,u,r))&&"length"in y?y:Array.from(y),p=f.length,g=o[u]=Array(p),m=l[u]=Array(p);n(c,h,g,m,s[u]=Array(d),f,e);for(var y,v,b,x,_=0,w=0;_<p;++_)if(b=g[_]){for(_>=w&&(w=_+1);!(x=m[w])&&++w<p;);b._next=x||null}}return(l=new tS(l,r))._enter=o,l._exit=s,l},enter:function(){return new tS(this._enter||this._groups.map(Z),this._parents)},exit:function(){return new tS(this._exit||this._groups.map(Z),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,l=Math.min(i,a),o=Array(i),s=0;s<l;++s)for(var u,c=n[s],h=r[s],d=c.length,f=o[s]=Array(d),p=0;p<d;++p)(u=c[p]||h[p])&&(f[p]=u);for(;s<i;++s)o[s]=n[s];return new tS(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,l=i[a];--a>=0;)(r=i[a])&&(l&&4^r.compareDocumentPosition(l)&&l.parentNode.insertBefore(r,l),l=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=tn);for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var l,o=n[a],s=o.length,u=i[a]=Array(s),c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new tS(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var l=r[i];if(l)return l}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],l=0,o=a.length;l<o;++l)(i=a[l])&&t.call(i,i.__data__,l,a);return this},attr:function(t,e){var n=ta(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):to(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ts(t+"");if(arguments.length<2){for(var r=tu(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?th:td)(this,t)}}:e?function(t){return function(){th(this,t)}}:function(t){return function(){td(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?tf:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tp:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(tg)},lower:function(){return this.each(tm)},append:function(t){var e="function"==typeof t?t:ty(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:ty(t),r=null==e?tv:"function"==typeof e?e:U(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(tb)},clone:function(t){return this.select(t?t_:tx)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),l=a.length;if(arguments.length<2){var o=this.node().__on;if(o){for(var s,u=0,c=o.length;u<c;++u)for(r=0,s=o[u];r<l;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value}return}for(r=0,o=e?tM:tw;r<l;++r)this.each(o(a[r],e,n));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return tA(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return tA(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,l=i.length;a<l;++a)(r=i[a])&&(yield r)}};var tD={value:()=>{}};function tT(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new tC(r)}function tC(t){this._=t}function tN(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=tD,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}tC.prototype=tT.prototype={constructor:tC,on:function(t,e){var n,r=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((n=(t=i[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++a<l;)if(n=(t=i[a]).type)r[n]=tN(r[n],t.name,e);else if(null==e)for(n in r)r[n]=tN(r[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tC(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var tL,tI,t$=0,tz=0,tO=0,tj=0,tR=0,tF=0,tW="object"==typeof performance&&performance.now?performance:Date,tH="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tU(){return tR||(tH(tP),tR=tW.now()+tF)}function tP(){tR=0}function tY(){this._call=this._time=this._next=null}function tB(t,e,n){var r=new tY;return r.restart(t,e,n),r}function tq(){tR=(tj=tW.now())+tF,t$=tz=0;try{!function(){tU(),++t$;for(var t,e=tL;e;)(t=tR-e._time)>=0&&e._call.call(void 0,t),e=e._next;--t$}()}finally{t$=0,function(){for(var t,e,n=tL,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:tL=e);tI=t,tX(r)}(),tR=0}}function tV(){var t=tW.now(),e=t-tj;e>1e3&&(tF-=e,tj=t)}function tX(t){!t$&&(tz&&(tz=clearTimeout(tz)),t-tR>24?(t<1/0&&(tz=setTimeout(tq,t-tW.now()-tF)),tO&&(tO=clearInterval(tO))):(tO||(tj=tW.now(),tO=setInterval(tV,1e3)),t$=1,tH(tq)))}function tG(t,e,n){var r=new tY;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}tY.prototype=tB.prototype={constructor:tY,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?tU():+n)+(null==e?0:+e),this._next||tI===this||(tI?tI._next=this:tL=this,tI=this),this._call=t,this._time=n,tX()},stop:function(){this._call&&(this._call=null,this._time=1/0,tX())}};var tK=tT("start","end","cancel","interrupt"),tZ=[];function tJ(t,e,n,r,i,a){var l=t.__transition;if(l){if(n in l)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(s){var u,c,h,d;if(1!==n.state)return o();for(u in i)if((d=i[u]).name===n.name){if(3===d.state)return tG(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(tG(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(h=n.tween.length),c=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=5,1),a=-1,l=r.length;++a<l;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=tB(function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:tK,tween:tZ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function tQ(t,e){var n=t1(t,e);if(n.state>0)throw Error("too late; already scheduled");return n}function t0(t,e){var n=t1(t,e);if(n.state>3)throw Error("too late; already running");return n}function t1(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}function t2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var t3=180/Math.PI,t4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function t5(t,e,n,r,i,a){var l,o,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,s/=o),t*r<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*t3,skewX:Math.atan(s)*t3,scaleX:l,scaleY:o}}function t6(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,l){var o,s,u,c,h=[],d=[];return a=t(a),l=t(l),!function(t,r,i,a,l,o){if(t!==i||r!==a){var s=l.push("translate(",null,e,null,n);o.push({i:s-4,x:t2(t,i)},{i:s-2,x:t2(r,a)})}else(i||a)&&l.push("translate("+i+e+a+n)}(a.translateX,a.translateY,l.translateX,l.translateY,h,d),(o=a.rotate)!==(s=l.rotate)?(o-s>180?s+=360:s-o>180&&(o+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:t2(o,s)})):s&&h.push(i(h)+"rotate("+s+r),(u=a.skewX)!==(c=l.skewX)?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:t2(u,c)}):c&&h.push(i(h)+"skewX("+c+r),!function(t,e,n,r,a,l){if(t!==n||e!==r){var o=a.push(i(a)+"scale(",null,",",null,")");l.push({i:o-4,x:t2(t,n)},{i:o-2,x:t2(e,r)})}else(1!==n||1!==r)&&a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,l.scaleX,l.scaleY,h,d),a=l=null,function(t){for(var e,n=-1,r=d.length;++n<r;)h[(e=d[n]).i]=e.x(t);return h.join("")}}}var t7=t6(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?t4:t5(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),t8=t6(function(t){return null==t?t4:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",t),t=o.transform.baseVal.consolidate())?t5((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):t4},", ",")",")");function t9(t,e,n){var r=t._id;return t.each(function(){var t=t0(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return t1(t,r).value[e]}}function et(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function en(){}var er="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",el=/^#([0-9a-f]{3,8})$/,eo=RegExp(`^rgb\\(${er},${er},${er}\\)$`),es=RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),eu=RegExp(`^rgba\\(${er},${er},${er},${ei}\\)$`),ec=RegExp(`^rgba\\(${ea},${ea},${ea},${ei}\\)$`),eh=RegExp(`^hsl\\(${ei},${ea},${ea}\\)$`),ed=RegExp(`^hsla\\(${ei},${ea},${ea},${ei}\\)$`),ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ep(){return this.rgb().formatHex()}function eg(){return this.rgb().formatRgb()}function em(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=el.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ey(e):3===n?new ex(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ev(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ev(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=eo.exec(t))?new ex(e[1],e[2],e[3],1):(e=es.exec(t))?new ex(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=eu.exec(t))?ev(e[1],e[2],e[3],e[4]):(e=ec.exec(t))?ev(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=eh.exec(t))?eS(e[1],e[2]/100,e[3]/100,1):(e=ed.exec(t))?eS(e[1],e[2]/100,e[3]/100,e[4]):ef.hasOwnProperty(t)?ey(ef[t]):"transparent"===t?new ex(NaN,NaN,NaN,0):null}function ey(t){return new ex(t>>16&255,t>>8&255,255&t,1)}function ev(t,e,n,r){return r<=0&&(t=e=n=NaN),new ex(t,e,n,r)}function eb(t,e,n,r){var i;return 1==arguments.length?((i=t)instanceof en||(i=em(i)),i)?new ex((i=i.rgb()).r,i.g,i.b,i.opacity):new ex:new ex(t,e,n,null==r?1:r)}function ex(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function e_(){return`#${ek(this.r)}${ek(this.g)}${ek(this.b)}`}function ew(){let t=eM(this.opacity);return`${1===t?"rgb(":"rgba("}${eA(this.r)}, ${eA(this.g)}, ${eA(this.b)}${1===t?")":`, ${t})`}`}function eM(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ek(t){return((t=eA(t))<16?"0":"")+t.toString(16)}function eS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new eD(t,e,n,r)}function eE(t){if(t instanceof eD)return new eD(t.h,t.s,t.l,t.opacity);if(t instanceof en||(t=em(t)),!t)return new eD;if(t instanceof eD)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,o=a-i,s=(a+i)/2;return o?(l=e===a?(n-r)/o+(n<r)*6:n===a?(r-e)/o+2:(e-n)/o+4,o/=s<.5?a+i:2-a-i,l*=60):o=s>0&&s<1?0:l,new eD(l,o,s,t.opacity)}function eD(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function eT(t){return(t=(t||0)%360)<0?t+360:t}function eC(t){return Math.max(0,Math.min(1,t||0))}function eN(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function eL(t,e,n,r,i){var a=t*t,l=a*t;return((1-3*t+3*a-l)*e+(4-6*a+3*l)*n+(1+3*t+3*a-3*l)*r+l*i)/6}et(en,em,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ep,formatHex:ep,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return eE(this).formatHsl()},formatRgb:eg,toString:eg}),et(ex,eb,ee(en,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new ex(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ex(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ex(eA(this.r),eA(this.g),eA(this.b),eM(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e_,formatHex:e_,formatHex8:function(){return`#${ek(this.r)}${ek(this.g)}${ek(this.b)}${ek((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ew,toString:ew})),et(eD,function(t,e,n,r){return 1==arguments.length?eE(t):new eD(t,e,n,null==r?1:r)},ee(en,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new eD(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new eD(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ex(eN(t>=240?t-240:t+120,i,r),eN(t,i,r),eN(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new eD(eT(this.h),eC(this.s),eC(this.l),eM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=eM(this.opacity);return`${1===t?"hsl(":"hsla("}${eT(this.h)}, ${100*eC(this.s)}%, ${100*eC(this.l)}%${1===t?")":`, ${t})`}`}}));var eI=t=>()=>t;function e$(t,e){var n=e-t;return n?function(e){return t+e*n}:eI(isNaN(t)?e:t)}var ez=function t(e){var n,r=1==(n=+(n=e))?e$:function(t,e){var r,i,a;return e-t?(r=t,i=e,r=Math.pow(r,a=n),i=Math.pow(i,a)-r,a=1/a,function(t){return Math.pow(r+t*i,a)}):eI(isNaN(t)?e:t)};function i(t,e){var n=r((t=eb(t)).r,(e=eb(e)).r),i=r(t.g,e.g),a=r(t.b,e.b),l=e$(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=a(e),t.opacity=l(e),t+""}}return i.gamma=t,i}(1);function eO(t){return function(e){var n,r,i=e.length,a=Array(i),l=Array(i),o=Array(i);for(n=0;n<i;++n)r=eb(e[n]),a[n]=r.r||0,l[n]=r.g||0,o[n]=r.b||0;return a=t(a),l=t(l),o=t(o),r.opacity=1,function(t){return r.r=a(t),r.g=l(t),r.b=o(t),r+""}}}eO(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],l=r>0?t[r-1]:2*i-a,o=r<e-1?t[r+2]:2*a-i;return eL((n-r/e)*e,l,i,a,o)}}),eO(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],l=t[(r+1)%e],o=t[(r+2)%e];return eL((n-r/e)*e,i,a,l,o)}});var ej=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eR=RegExp(ej.source,"g");function eF(t,e){var n,r,i,a,l,o=ej.lastIndex=eR.lastIndex=0,s=-1,u=[],c=[];for(t+="",e+="";(i=ej.exec(t))&&(a=eR.exec(e));)(l=a.index)>o&&(l=e.slice(o,l),u[s]?u[s]+=l:u[++s]=l),(i=i[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,c.push({i:s,x:t2(i,a)})),o=eR.lastIndex;return o<e.length&&(l=e.slice(o),u[s]?u[s]+=l:u[++s]=l),u.length<2?c[0]?(n=c[0].x,function(t){return n(t)+""}):(r=e,function(){return r}):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})}function eW(t,e){var n;return("number"==typeof e?t2:e instanceof em?ez:(n=em(e))?(e=n,ez):eF)(t,e)}var eH=tE.prototype.constructor;function eU(t){return function(){this.style.removeProperty(t)}}var eP=0;function eY(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var eB=tE.prototype;eY.prototype=(function(t){return tE().transition(t)}).prototype={constructor:eY,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=U(t));for(var r=this._groups,i=r.length,a=Array(i),l=0;l<i;++l)for(var o,s,u=r[l],c=u.length,h=a[l]=Array(c),d=0;d<c;++d)(o=u[d])&&(s=t.call(o,o.__data__,d,u))&&("__data__"in o&&(s.__data__=o.__data__),h[d]=s,tJ(h[d],e,n,d,h,t1(o,n)));return new eY(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Y(t));for(var r=this._groups,i=r.length,a=[],l=[],o=0;o<i;++o)for(var s,u=r[o],c=u.length,h=0;h<c;++h)if(s=u[h]){for(var d,f=t.call(s,s.__data__,h,u),p=t1(s,n),g=0,m=f.length;g<m;++g)(d=f[g])&&tJ(d,e,n,g,f,p);a.push(f),l.push(s)}return new eY(a,l,e,n)},selectChild:eB.selectChild,selectChildren:eB.selectChildren,filter:function(t){"function"!=typeof t&&(t=B(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var a,l=e[i],o=l.length,s=r[i]=[],u=0;u<o;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&s.push(a);return new eY(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),l=Array(r),o=0;o<a;++o)for(var s,u=e[o],c=n[o],h=u.length,d=l[o]=Array(h),f=0;f<h;++f)(s=u[f]||c[f])&&(d[f]=s);for(;o<r;++o)l[o]=e[o];return new eY(l,this._parents,this._name,this._id)},selection:function(){return new eH(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++eP,r=this._groups,i=r.length,a=0;a<i;++a)for(var l,o=r[a],s=o.length,u=0;u<s;++u)if(l=o[u]){var c=t1(l,e);tJ(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new eY(r,this._parents,t,n)},call:eB.call,nodes:eB.nodes,node:eB.node,size:eB.size,empty:eB.empty,each:eB.each,on:function(t,e){var n,r,i,a=this._id;return arguments.length<2?t1(this.node(),a).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?tQ:t0,function(){var l=i(this,a),o=l.on;o!==n&&(r=(n=o).copy()).on(t,e),l.on=r}))},attr:function(t,e){var n=ta(t),r="transform"===n?t8:eW;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,a;return function(){var l,o,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local))===(o=s+"")?null:l===r&&o===i?a:(i=o,a=e(r=l,s))}}:function(t,e,n){var r,i,a;return function(){var l,o,s=n(this);return null==s?void this.removeAttribute(t):(l=this.getAttribute(t))===(o=s+"")?null:l===r&&o===i?a:(i=o,a=e(r=l,s))}})(n,r,t9(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,a=n+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===a?null:l===r?i:i=e(r=l,n)}}:function(t,e,n){var r,i,a=n+"";return function(){var l=this.getAttribute(t);return l===a?null:l===r?i:i=e(r=l,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=ta(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttribute(t,i.call(this,e))}),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r,i,a,l,o,s,u,c,h,d,f,p,g,m,y,v,b,x,_,w,M,A="transform"==(t+="")?t7:eW;return null==e?this.styleTween(t,(r=t,function(){var t=to(this,r),e=(this.style.removeProperty(r),to(this,r));return t===e?null:t===i&&e===a?l:l=A(i=t,a=e)})).on("end.style."+t,eU(t)):"function"==typeof e?this.styleTween(t,(o=t,s=t9(this,"style."+t,e),function(){var t=to(this,o),e=s(this),n=e+"";return null==e&&(this.style.removeProperty(o),n=e=to(this,o)),t===n?null:t===u&&n===c?h:(c=n,h=A(u=t,e))})).each((d=this._id,b="end."+(v="style."+(f=t)),function(){var t=t0(this,d),e=t.on,n=null==t.value[v]?y||(y=eU(f)):void 0;(e!==p||m!==n)&&(g=(p=e).copy()).on(b,m=n),t.on=g})):this.styleTween(t,(x=t,M=e+"",function(){var t=to(this,x);return t===M?null:t===_?w:w=A(_=t,e)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e){this.style.setProperty(t,a.call(this,e),n)}),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){var e,n;return this.tween("text","function"==typeof t?(e=t9(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){this.textContent=r.call(this,t)}),e}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=t1(this.node(),n).tween,a=0,l=i.length;a<l;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=t0(this,t),a=i.tween;if(a!==n){r=n=a;for(var l=0,o=r.length;l<o;++l)if(r[l].name===e){(r=r.slice()).splice(l,1);break}}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw Error();return function(){var a=t0(this,t),l=a.tween;if(l!==r){i=(r=l).slice();for(var o={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=o;break}s===u&&i.push(o)}a.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){tQ(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){tQ(this,t).delay=e}})(e,t)):t1(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){t0(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){t0(this,t).duration=e}})(e,t)):t1(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){t0(this,t).ease=e}}(e,t)):t1(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw Error();t0(this,e).ease=n}))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,l){var o={value:l},s={value:function(){0==--i&&a()}};n.each(function(){var n=t0(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(s)),n.on=e}),0===i&&a()})},[Symbol.iterator]:eB[Symbol.iterator]};var eq={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};tE.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,a=t.__transition,l=!0;if(a){for(i in e=null==e?null:e+"",a){if((n=a[i]).name!==e){l=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]}l&&delete t.__transition}}(this,t)})},tE.prototype.transition=function(t){var e,n;t instanceof eY?(e=t._id,t=t._name):(e=++eP,(n=eq).time=tU(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var l,o=r[a],s=o.length,u=0;u<s;++u)(l=o[u])&&tJ(l,t,e,u,o,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}(l,e));return new eY(r,this._parents,t,e)};let{abs:eV,max:eX,min:eG}=Math;function eK(t){return{type:t}}function eZ(t,e,n,r,i){let a,l,o,s;let u=e[0],c=r[0],h=0,d=0;c>u==c>-u?(a=u,u=e[++h]):(a=c,c=r[++d]);let f=0;if(h<t&&d<n)for(c>u==c>-u?(l=u+a,o=a-(l-u),u=e[++h]):(l=c+a,o=a-(l-c),c=r[++d]),a=l,0!==o&&(i[f++]=o);h<t&&d<n;)c>u==c>-u?(s=(l=a+u)-a,o=a-(l-s)+(u-s),u=e[++h]):(s=(l=a+c)-a,o=a-(l-s)+(c-s),c=r[++d]),a=l,0!==o&&(i[f++]=o);for(;h<t;)s=(l=a+u)-a,o=a-(l-s)+(u-s),u=e[++h],a=l,0!==o&&(i[f++]=o);for(;d<n;)s=(l=a+c)-a,o=a-(l-s)+(c-s),c=r[++d],a=l,0!==o&&(i[f++]=o);return(0!==a||0===f)&&(i[f++]=a),f}function eJ(t){return new Float64Array(t)}["w","e"].map(eK),["n","s"].map(eK),["n","w","e","s","nw","ne","sw","se"].map(eK);let eQ=eJ(4),e0=eJ(8),e1=eJ(12),e2=eJ(16),e3=eJ(4);function e4(t,e,n,r,i,a){let l=(e-a)*(n-i),o=(t-i)*(r-a),s=l-o,u=Math.abs(l+o);return Math.abs(s)>=33306690738754716e-32*u?s:-function(t,e,n,r,i,a,l){let o,s,u,c,h,d,f,p,g,m,y,v,b,x,_,w,M,A;let k=t-i,S=n-i,E=e-a,D=r-a;x=k*D,f=(d=134217729*k)-(d-k),p=k-f,g=(d=134217729*D)-(d-D),_=p*(m=D-g)-(x-f*g-p*g-f*m),w=E*S,f=(d=134217729*E)-(d-E),p=E-f,g=(d=134217729*S)-(d-S),y=_-(M=p*(m=S-g)-(w-f*g-p*g-f*m)),h=_-y,eQ[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,eQ[1]=b-(y+h)+(h-w),h=(A=v+y)-v,eQ[2]=v-(A-h)+(y-h),eQ[3]=A;let T=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,eQ),C=22204460492503146e-32*l;if(T>=C||-T>=C||(h=t-k,o=t-(k+h)+(h-i),h=n-S,u=n-(S+h)+(h-i),h=e-E,s=e-(E+h)+(h-a),h=r-D,c=r-(D+h)+(h-a),0===o&&0===s&&0===u&&0===c)||(C=11093356479670487e-47*l+33306690738754706e-32*Math.abs(T),(T+=k*c+D*o-(E*u+S*s))>=C||-T>=C))return T;x=o*D,f=(d=134217729*o)-(d-o),p=o-f,g=(d=134217729*D)-(d-D),_=p*(m=D-g)-(x-f*g-p*g-f*m),w=s*S,f=(d=134217729*s)-(d-s),p=s-f,g=(d=134217729*S)-(d-S),y=_-(M=p*(m=S-g)-(w-f*g-p*g-f*m)),h=_-y,e3[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,e3[1]=b-(y+h)+(h-w),h=(A=v+y)-v,e3[2]=v-(A-h)+(y-h),e3[3]=A;let N=eZ(4,eQ,4,e3,e0);x=k*c,f=(d=134217729*k)-(d-k),p=k-f,g=(d=134217729*c)-(d-c),_=p*(m=c-g)-(x-f*g-p*g-f*m),w=E*u,f=(d=134217729*E)-(d-E),p=E-f,g=(d=134217729*u)-(d-u),y=_-(M=p*(m=u-g)-(w-f*g-p*g-f*m)),h=_-y,e3[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,e3[1]=b-(y+h)+(h-w),h=(A=v+y)-v,e3[2]=v-(A-h)+(y-h),e3[3]=A;let L=eZ(N,e0,4,e3,e1);x=o*c,f=(d=134217729*o)-(d-o),p=o-f,g=(d=134217729*c)-(d-c),_=p*(m=c-g)-(x-f*g-p*g-f*m),w=s*u,f=(d=134217729*s)-(d-s),p=s-f,g=(d=134217729*u)-(d-u),y=_-(M=p*(m=u-g)-(w-f*g-p*g-f*m)),h=_-y,e3[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,e3[1]=b-(y+h)+(h-w),h=(A=v+y)-v,e3[2]=v-(A-h)+(y-h),e3[3]=A;let I=eZ(L,e1,4,e3,e2);return e2[I-1]}(t,e,n,r,i,a,u)}eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(8),eJ(8),eJ(8),eJ(4),eJ(8),eJ(8),eJ(8),eJ(12),eJ(192),eJ(192),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(8),eJ(8),eJ(8),eJ(8),eJ(8),eJ(8),eJ(8),eJ(8),eJ(8),eJ(4),eJ(4),eJ(4),eJ(8),eJ(16),eJ(16),eJ(16),eJ(32),eJ(32),eJ(48),eJ(64),eJ(1152),eJ(1152),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(4),eJ(24),eJ(24),eJ(24),eJ(24),eJ(24),eJ(24),eJ(24),eJ(24),eJ(24),eJ(24),eJ(1152),eJ(1152),eJ(1152),eJ(1152),eJ(1152),eJ(2304),eJ(2304),eJ(3456),eJ(5760),eJ(8),eJ(8),eJ(8),eJ(16),eJ(24),eJ(48),eJ(48),eJ(96),eJ(192),eJ(384),eJ(384),eJ(384),eJ(768),eJ(96),eJ(96),eJ(96),eJ(1152);let e5=new Uint32Array(512);class e6{static from(t,e=nt,n=ne){let r=t.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){let r=t[a];i[2*a]=e(r),i[2*a+1]=n(r)}return new e6(i)}constructor(t){let e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw Error("Expected coords to contain numbers.");this.coords=t;let n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){let t,e,n;let{coords:r,_hullPrev:i,_hullNext:a,_hullTri:l,_hullHash:o}=this,s=r.length>>1,u=1/0,c=1/0,h=-1/0,d=-1/0;for(let t=0;t<s;t++){let e=r[2*t],n=r[2*t+1];e<u&&(u=e),n<c&&(c=n),e>h&&(h=e),n>d&&(d=n),this._ids[t]=t}let f=(u+h)/2,p=(c+d)/2;for(let e=0,n=1/0;e<s;e++){let i=e7(f,p,r[2*e],r[2*e+1]);i<n&&(t=e,n=i)}let g=r[2*t],m=r[2*t+1];for(let n=0,i=1/0;n<s;n++){if(n===t)continue;let a=e7(g,m,r[2*n],r[2*n+1]);a<i&&a>0&&(e=n,i=a)}let y=r[2*e],v=r[2*e+1],b=1/0;for(let i=0;i<s;i++){if(i===t||i===e)continue;let a=function(t,e,n,r,i,a){let l=n-t,o=r-e,s=i-t,u=a-e,c=l*l+o*o,h=s*s+u*u,d=.5/(l*u-o*s),f=(u*c-o*h)*d,p=(l*h-s*c)*d;return f*f+p*p}(g,m,y,v,r[2*i],r[2*i+1]);a<b&&(n=i,b=a)}let x=r[2*n],_=r[2*n+1];if(b===1/0){for(let t=0;t<s;t++)this._dists[t]=r[2*t]-r[0]||r[2*t+1]-r[1];e8(this._ids,this._dists,0,s-1);let t=new Uint32Array(s),e=0;for(let n=0,r=-1/0;n<s;n++){let i=this._ids[n],a=this._dists[i];a>r&&(t[e++]=i,r=a)}this.hull=t.subarray(0,e),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(0>e4(g,m,y,v,x,_)){let t=e,r=y,i=v;e=n,y=x,v=_,n=t,x=r,_=i}let w=function(t,e,n,r,i,a){let l=n-t,o=r-e,s=i-t,u=a-e,c=l*l+o*o,h=s*s+u*u,d=.5/(l*u-o*s);return{x:t+(u*c-o*h)*d,y:e+(l*h-s*c)*d}}(g,m,y,v,x,_);this._cx=w.x,this._cy=w.y;for(let t=0;t<s;t++)this._dists[t]=e7(r[2*t],r[2*t+1],w.x,w.y);e8(this._ids,this._dists,0,s-1),this._hullStart=t;let M=3;a[t]=i[n]=e,a[e]=i[t]=n,a[n]=i[e]=t,l[t]=0,l[e]=1,l[n]=2,o.fill(-1),o[this._hashKey(g,m)]=t,o[this._hashKey(y,v)]=e,o[this._hashKey(x,_)]=n,this.trianglesLen=0,this._addTriangle(t,e,n,-1,-1,-1);for(let s=0,u,c;s<this._ids.length;s++){let h=this._ids[s],d=r[2*h],f=r[2*h+1];if(s>0&&2220446049250313e-31>=Math.abs(d-u)&&2220446049250313e-31>=Math.abs(f-c)||(u=d,c=f,h===t||h===e||h===n))continue;let p=0;for(let t=0,e=this._hashKey(d,f);t<this._hashSize&&(-1===(p=o[(e+t)%this._hashSize])||p===a[p]);t++);let g=p=i[p],m;for(;m=a[g],e4(d,f,r[2*g],r[2*g+1],r[2*m],r[2*m+1])>=0;)if((g=m)===p){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,h,a[g],-1,-1,l[g]);l[h]=this._legalize(y+2),l[g]=y,M++;let v=a[g];for(;m=a[v],0>e4(d,f,r[2*v],r[2*v+1],r[2*m],r[2*m+1]);)y=this._addTriangle(v,h,m,l[h],-1,l[v]),l[h]=this._legalize(y+2),a[v]=v,M--,v=m;if(g===p)for(;0>e4(d,f,r[2*(m=i[g])],r[2*m+1],r[2*g],r[2*g+1]);)y=this._addTriangle(m,h,g,-1,l[g],l[m]),this._legalize(y+2),l[m]=y,a[g]=g,M--,g=m;this._hullStart=i[h]=g,a[g]=i[v]=h,a[h]=v,o[this._hashKey(d,f)]=h,o[this._hashKey(r[2*g],r[2*g+1])]=g}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=a[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:e,_halfedges:n,coords:r}=this,i=0,a=0;for(;;){let l=n[t],o=t-t%3;if(a=o+(t+2)%3,-1===l){if(0===i)break;t=e5[--i];continue}let s=l-l%3,u=o+(t+1)%3,c=s+(l+2)%3,h=e[a],d=e[t],f=e[u],p=e[c];if(function(t,e,n,r,i,a,l,o){let s=t-l,u=e-o,c=n-l,h=r-o,d=i-l,f=a-o,p=c*c+h*h,g=d*d+f*f;return s*(h*g-p*f)-u*(c*g-p*d)+(s*s+u*u)*(c*f-h*d)<0}(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){e[t]=p,e[l]=h;let r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(l,n[a]),this._link(a,c);let o=s+(l+1)%3;i<e5.length&&(e5[i++]=o)}else{if(0===i)break;t=e5[--i]}}return a}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,a){let l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=e,this._triangles[l+2]=n,this._link(l,r),this._link(l+1,i),this._link(l+2,a),this.trianglesLen+=3,l}}function e7(t,e,n,r){let i=t-n,a=e-r;return i*i+a*a}function e8(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let r=t[i],a=e[r],l=i-1;for(;l>=n&&e[t[l]]>a;)t[l+1]=t[l--];t[l+1]=r}else{let i=n+r>>1,a=n+1,l=r;e9(t,i,a),e[t[n]]>e[t[r]]&&e9(t,n,r),e[t[a]]>e[t[r]]&&e9(t,a,r),e[t[n]]>e[t[a]]&&e9(t,n,a);let o=t[a],s=e[o];for(;;){do a++;while(e[t[a]]<s);do l--;while(e[t[l]]>s);if(l<a)break;e9(t,a,l)}t[n+1]=t[l],t[l]=o,r-a+1>=l-n?(e8(t,e,a,r),e8(t,e,n,l-1)):(e8(t,e,n,l-1),e8(t,e,a,r))}}function e9(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function nt(t){return t[0]}function ne(t){return t[1]}class nn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){t=+t,e=+e;let r=t+(n=+n),i=e;if(n<0)throw Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class nr{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class ni{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((i=+i)>=(n=+n)))throw Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let t,e;let{delaunay:{points:n,hull:r,triangles:i},vectors:a}=this,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let a=0,o=0,s=i.length,u,c;a<s;a+=3,o+=2){let s=2*i[a],h=2*i[a+1],d=2*i[a+2],f=n[s],p=n[s+1],g=n[h],m=n[h+1],y=n[d],v=n[d+1],b=g-f,x=m-p,_=y-f,w=v-p,M=(b*w-x*_)*2;if(1e-9>Math.abs(M)){if(void 0===t){for(let i of(t=e=0,r))t+=n[2*i],e+=n[2*i+1];t/=r.length,e/=r.length}let i=1e9*Math.sign((t-f)*w-(e-p)*_);u=(f+y)/2-i*w,c=(p+v)/2+i*_}else{let t=1/M,e=b*b+x*x,n=_*_+w*w;u=f+(w*e-x*n)*t,c=p+(b*n-_*e)*t}l[o]=u,l[o+1]=c}let o=r[r.length-1],s,u=4*o,c,h=n[2*o],d,f=n[2*o+1];a.fill(0);for(let t=0;t<r.length;++t)o=r[t],s=u,c=h,d=f,u=4*o,h=n[2*o],f=n[2*o+1],a[s+2]=a[u]=d-f,a[s+3]=a[u+1]=h-c}render(t){let e=null==t?t=new nn:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:l}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){let r=n[e];if(r<e)continue;let i=2*Math.floor(e/3),l=2*Math.floor(r/3),o=a[i],s=a[i+1],u=a[l],c=a[l+1];this._renderSegment(o,s,u,c,t)}let o,s=i[i.length-1];for(let e=0;e<i.length;++e){o=s;let n=2*Math.floor(r[s=i[e]]/3),u=a[n],c=a[n+1],h=4*o,d=this._project(u,c,l[h+2],l[h+3]);d&&this._renderSegment(u,c,d[0],d[1],t)}return e&&e.value()}renderBounds(t){let e=null==t?t=new nn:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){let n=null==e?e=new nn:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)(r[t]!==r[t-2]||r[t+1]!==r[t-1])&&e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){let t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){let e=new nr;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let a;let l=this._regioncode(t,e),o=this._regioncode(n,r);0===l&&0===o?(i.moveTo(t,e),i.lineTo(n,r)):(a=this._clipSegment(t,e,n,r,l,o))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){let e=this._clip(t);if(e)for(let n of this.delaunay.neighbors(t)){let t=this._clip(n);if(t){t:for(let r=0,i=e.length;r<i;r+=2)for(let a=0,l=t.length;a<l;a+=2)if(e[r]===t[a]&&e[r+1]===t[a+1]&&e[(r+2)%i]===t[(a+l-2)%l]&&e[(r+3)%i]===t[(a+l-1)%l]){yield n;break t}}}}_cell(t){let{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[t];if(-1===a)return null;let l=[],o=a;do{let n=Math.floor(o/3);if(l.push(e[2*n],e[2*n+1]),i[o=o%3==2?o-2:o+1]!==t)break;o=r[o]}while(o!==a&&-1!==o);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let e=this._cell(t);if(null===e)return null;let{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){let n=e.length,r=null,i,a,l=e[n-2],o=e[n-1],s,u=this._regioncode(l,o),c,h=0;for(let d=0;d<n;d+=2)if(i=l,a=o,l=e[d],o=e[d+1],s=u,u=this._regioncode(l,o),0===s&&0===u)c=h,h=0,r?r.push(l,o):r=[l,o];else{let e,n,d,f,p;if(0===s){if(null===(e=this._clipSegment(i,a,l,o,s,u)))continue;[n,d,f,p]=e}else{if(null===(e=this._clipSegment(l,o,i,a,u,s)))continue;[f,p,n,d]=e,c=h,h=this._edgecode(n,d),c&&h&&this._edge(t,c,h,r,r.length),r?r.push(n,d):r=[n,d]}c=h,h=this._edgecode(f,p),c&&h&&this._edge(t,c,h,r,r.length),r?r.push(f,p):r=[f,p]}if(r)c=h,h=this._edgecode(r[0],r[1]),c&&h&&this._edge(t,c,h,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,n,r,i,a){let l=i<a;for(l&&([t,e,n,r,i,a]=[n,r,t,e,a,i]);;){if(0===i&&0===a)return l?[n,r,t,e]:[t,e,n,r];if(i&a)return null;let o,s,u=i||a;8&u?(o=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&u?(o=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&u?(s=e+(r-e)*(this.xmax-t)/(n-t),o=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),o=this.xmin),i?(t=o,e=s,i=this._regioncode(t,e)):(n=o,r=s,a=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,a){let l=Array.from(e),o;if((o=this._project(l[0],l[1],n,r))&&l.unshift(o[0],o[1]),(o=this._project(l[l.length-2],l[l.length-1],i,a))&&l.push(o[0],o[1]),l=this._clipFinite(t,l))for(let e=0,n=l.length,r,i=this._edgecode(l[n-2],l[n-1]);e<n;e+=2)r=i,i=this._edgecode(l[e],l[e+1]),r&&i&&(e=this._edge(t,r,i,l,e),n=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,e,n,r,i){for(;e!==n;){let n,a;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,a=this.ymin}(r[i]!==n||r[i+1]!==a)&&this.contains(t,n,a)&&(r.splice(i,0,n,a),i+=2)}return i}_project(t,e,n,r){let i=1/0,a,l,o;if(r<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/r)<i&&(o=this.ymin,l=t+(i=a)*n)}else if(r>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/r)<i&&(o=this.ymax,l=t+(i=a)*n)}if(n>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/n)<i&&(l=this.xmax,o=e+(i=a)*r)}else if(n<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/n)<i&&(l=this.xmin,o=e+(i=a)*r)}return[l,o]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){let n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}let na=2*Math.PI,nl=Math.pow;function no(t){return t[0]}function ns(t){return t[1]}class nu{static from(t,e=no,n=ns,r){return new nu("length"in t?function(t,e,n,r){let i=t.length,a=new Float64Array(2*i);for(let l=0;l<i;++l){let i=t[l];a[2*l]=e.call(r,i,l,t),a[2*l+1]=n.call(r,i,l,t)}return a}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(let a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new e6(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){let{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){let r=2*e[t],i=2*e[t+1],a=2*e[t+2];if((n[a]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[a+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);let t=this.collinear[0],i=this.collinear[this.collinear.length-1],a=[e[2*t],e[2*t+1],e[2*i],e[2*i+1]],l=1e-8*Math.hypot(a[3]-a[1],a[2]-a[0]);for(let t=0,i=e.length/2;t<i;++t){var n,r;let i=[(n=e[2*t])+Math.sin(n+(r=e[2*t+1]))*l,r+Math.cos(n-r)*l];e[2*t]=i[0],e[2*t+1]=i[1]}this._delaunator=new e6(e)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,e=i.length;t<e;++t){let e=l[t%3==2?t-2:t+1];(-1===i[t]||-1===o[e])&&(o[e]=t)}for(let t=0,e=a.length;t<e;++t)s[a[t]]=t;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],o[a[0]]=1,2===a.length&&(o[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(t){return new ni(this,t)}*neighbors(t){let{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:l}=this;if(l){let e=l.indexOf(t);e>0&&(yield l[e-1]),e<l.length-1&&(yield l[e+1]);return}let o=e[t];if(-1===o)return;let s=o,u=-1;do{if(yield u=a[s],a[s=s%3==2?s-2:s+1]!==t)return;if(-1===(s=i[s])){let e=n[(r[t]+1)%n.length];e!==u&&(yield e);return}}while(s!==o)}find(t,e,n=0){let r;if((t=+t)!=t||(e=+e)!=e)return -1;let i=n;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}_step(t,e,n){let{inedges:r,hull:i,_hullIndex:a,halfedges:l,triangles:o,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let u=t,c=nl(e-s[2*t],2)+nl(n-s[2*t+1],2),h=r[t],d=h;do{let r=o[d],h=nl(e-s[2*r],2)+nl(n-s[2*r+1],2);if(h<c&&(c=h,u=r),o[d=d%3==2?d-2:d+1]!==t)break;if(-1===(d=l[d])){if((d=i[(a[t]+1)%i.length])!==r&&nl(e-s[2*d],2)+nl(n-s[2*d+1],2)<c)return d;break}}while(d!==h);return u}render(t){let e=null==t?t=new nn:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,a=r.length;e<a;++e){let a=r[e];if(a<e)continue;let l=2*i[e],o=2*i[a];t.moveTo(n[l],n[l+1]),t.lineTo(n[o],n[o+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=void 0==e?2:+e;let n=null==t?t=new nn:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){let i=r[n],a=r[n+1];t.moveTo(i+e,a),t.arc(i,a,e,0,na)}return n&&n.value()}renderHull(t){let e=null==t?t=new nn:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<a;++e){let i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){let t=new nr;return this.renderHull(t),t.value()}renderTriangle(t,e){let n=null==e?e=new nn:void 0,{points:r,triangles:i}=this,a=2*i[t*=3],l=2*i[t+1],o=2*i[t+2];return e.moveTo(r[a],r[a+1]),e.lineTo(r[l],r[l+1]),e.lineTo(r[o],r[o+1]),e.closePath(),n&&n.value()}*trianglePolygons(){let{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){let e=new nr;return this.renderTriangle(t,e),e.value()}}function nc(t){return null==t?null:nh(t)}function nh(t){if("function"!=typeof t)throw Error();return t}function nd(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function nf(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=ng)):void 0===e&&(e=np);for(var n,r,i,a,l,o=new nv(t),s=[o];n=s.pop();)if((i=e(n.data))&&(l=(i=Array.from(i)).length))for(n.children=i,a=l-1;a>=0;--a)s.push(r=i[a]=new nv(i[a])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(ny)}function np(t){return t.children}function ng(t){return Array.isArray(t)?t[1]:null}function nm(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function ny(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function nv(t){this.data=t,this.depth=this.height=0,this.parent=null}nv.prototype=nf.prototype={constructor:nv,count:function(){return this.eachAfter(nd)},each:function(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,a=this,l=[a],o=[],s=-1;a=l.pop();)if(o.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)l.push(n[r]);for(;a=o.pop();)t.call(e,a,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,a=[i],l=-1;i=a.pop();)if(t.call(e,i,++l,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return nf(this).eachBefore(nm)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,a=[i];do for(t=a.reverse(),a=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);while(a.length)}};var nb={depth:-1},nx={},n_={};function nw(t){return t.id}function nM(t){return t.parentId}function nA(t){let e=t.length;if(e<2)return"";for(;--e>1&&!nk(t,e););return t.slice(0,e)}function nk(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if((1&n)==0)return!0}return!1}function nS(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function nE(t,e,n,r,i){for(var a,l=t.children,o=-1,s=l.length,u=t.value&&(r-e)/t.value;++o<s;)(a=l[o]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function nD(t,e,n,r,i){for(var a,l=t.children,o=-1,s=l.length,u=t.value&&(i-n)/t.value;++o<s;)(a=l[o]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var nT=function t(e){function n(t,n,r,i,a){!function(t,e,n,r,i,a){for(var l,o,s,u,c,h,d,f,p,g,m,y=[],v=e.children,b=0,x=0,_=v.length,w=e.value;b<_;){s=i-n,u=a-r;do c=v[x++].value;while(!c&&x<_);for(h=d=c,p=Math.max(d/(m=c*c*(g=Math.max(u/s,s/u)/(w*t))),m/h);x<_;++x){if(c+=o=v[x].value,o<h&&(h=o),o>d&&(d=o),(f=Math.max(d/(m=c*c*g),m/h))>p){c-=o;break}p=f}y.push(l={value:c,dice:s<u,children:v.slice(b,x)}),l.dice?nE(l,n,r,i,w?r+=u*c/w:a):nD(l,n,r,w?n+=s*c/w:i,a),w-=c,b=x}}(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2);function nC(){return 0}function nN(t){return function(){return t}}function nL(t,e,n,r,i){var a,l,o=t.children,s=o.length,u=Array(s+1);for(u[0]=l=a=0;a<s;++a)u[a+1]=l+=o[a].value;!function t(e,n,r,i,a,l,s){if(e>=n-1){var c=o[e];c.x0=i,c.y0=a,c.x1=l,c.y1=s;return}for(var h=u[e],d=r/2+h,f=e+1,p=n-1;f<p;){var g=f+p>>>1;u[g]<d?f=g+1:p=g}d-u[f-1]<u[f]-d&&e+1<f&&--f;var m=u[f]-h,y=r-m;if(l-i>s-a){var v=r?(i*y+l*m)/r:l;t(e,f,m,i,a,v,s),t(f,n,y,v,a,l,s)}else{var b=r?(a*y+s*m)/r:s;t(e,f,m,i,a,l,b),t(f,n,y,i,b,l,s)}}(0,s,t.value,e,n,r,i)}function nI(t,e,n,r,i){(1&t.depth?nD:nE)(t,e,n,r,i)}let n$=Math.PI,nz=2*n$,nO=nz-1e-6;function nj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class nR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?nj:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return nj;let n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,a){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,o=n-t,s=r-e,u=a-t,c=l-e,h=u*u+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>1e-6){if(Math.abs(c*o-s*u)>1e-6&&i){let d=n-a,f=r-l,p=o*o+s*s,g=Math.sqrt(p),m=Math.sqrt(h),y=i*Math.tan((n$-Math.acos((p+h-(d*d+f*f))/(2*g*m)))/2),v=y/m,b=y/g;Math.abs(v-1)>1e-6&&this._append`L${t+v*u},${e+v*c}`,this._append`A${i},${i},0,0,${+(c*d>u*f)},${this._x1=t+b*o},${this._y1=e+b*s}`}else this._append`L${this._x1=t},${this._y1=e}`}}arc(t,e,n,r,i,a){if(t=+t,e=+e,a=!!a,(n=+n)<0)throw Error(`negative radius: ${n}`);let l=n*Math.cos(r),o=n*Math.sin(r),s=t+l,u=e+o,c=1^a,h=a?r-i:i-r;null===this._x1?this._append`M${s},${u}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append`L${s},${u}`,n&&(h<0&&(h=h%nz+nz),h>nO?this._append`A${n},${n},0,1,${c},${t-l},${e-o}A${n},${n},0,1,${c},${this._x1=s},${this._y1=u}`:h>1e-6&&this._append`A${n},${n},0,${+(h>=n$)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function nF(){return new nR}function nW(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}nF.prototype=nR.prototype;let nH=Symbol("implicit");function nU(){var t=new D,e=[],n=[],r=nH;function i(i){let a=t.get(i);if(void 0===a){if(r!==nH)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();for(let r of(e=[],t=new D,n))t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return nU(e,n).unknown(r)},nW.apply(i,arguments),i}function nP(){var t,e,n=nU().unknown(void 0),r=n.domain,i=n.range,a=0,l=1,o=!1,s=0,u=0,c=.5;function h(){var n=r().length,h=l<a,d=h?l:a,f=h?a:l;t=(f-d)/Math.max(1,n-s+2*u),o&&(t=Math.floor(t)),d+=(f-d-t*(n-s))*c,e=t*(1-s),o&&(d=Math.round(d),e=Math.round(e));var p=(function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=Array(i);++r<i;)a[r]=t+r*n;return a})(n).map(function(e){return d+t*e});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([a,l]=t,a=+a,l=+l,h()):[a,l]},n.rangeRound=function(t){return[a,l]=t,a=+a,l=+l,o=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,h()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),h()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),h()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.copy=function(){return nP(r(),[a,l]).round(o).paddingInner(s).paddingOuter(u).align(c)},nW.apply(h(),arguments)}let nY=Math.sqrt(50),nB=Math.sqrt(10),nq=Math.sqrt(2);function nV(t,e,n){let r,i,a;let l=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(l)),s=l/Math.pow(10,o),u=s>=nY?10:s>=nB?5:s>=nq?2:1;return(o<0?(r=Math.round(t*(a=Math.pow(10,-o)/u)),i=Math.round(e*a),r/a<t&&++r,i/a>e&&--i,a=-a):(r=Math.round(t/(a=Math.pow(10,o)*u)),i=Math.round(e/a),r*a<t&&++r,i*a>e&&--i),i<r&&.5<=n&&n<2)?nV(t,e,2*n):[r,i,a]}function nX(t,e,n){if(e=+e,t=+t,!((n=+n)>0))return[];if(t===e)return[t];let r=e<t,[i,a,l]=r?nV(e,t,n):nV(t,e,n);if(!(a>=i))return[];let o=a-i+1,s=Array(o);if(r){if(l<0)for(let t=0;t<o;++t)s[t]=-((a-t)/l);else for(let t=0;t<o;++t)s[t]=(a-t)*l}else if(l<0)for(let t=0;t<o;++t)s[t]=-((i+t)/l);else for(let t=0;t<o;++t)s[t]=(i+t)*l;return s}function nG(t,e,n){return nV(t=+t,e=+e,n=+n)[2]}function nK(t,e,n){e=+e,t=+t,n=+n;let r=e<t,i=r?nG(e,t,n):nG(t,e,n);return(r?-1:1)*(i<0?-(1/i):i)}let nZ=k(M),nJ=nZ.right;function nQ(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function n0(t){return+t}nZ.left,k(function(t){return null===t?NaN:+t}).center;var n1=[0,1];function n2(t){return t}function n3(t,e){var n;return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n})}function n4(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=n3(i,r),a=n(l,a)):(r=n3(r,i),a=n(a,l)),function(t){return a(r(t))}}function n5(t,e,n){var r=Math.min(t.length,e.length)-1,i=Array(r),a=Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=n3(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(e){var n=nJ(t,e,1,r)-1;return a[n](i[n](e))}}function n6(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function n7(){var t,e,n,r,i,a,l=n1,o=n1,s=function t(e,n){var r,i,a=typeof n;return null==n||"boolean"===a?eI(n):("number"===a?t2:"string"===a?(i=em(n))?(n=i,ez):eF:n instanceof em?ez:n instanceof Date?function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView)?Array.isArray(n)?function(e,n){var r,i=n?n.length:0,a=e?Math.min(i,e.length):0,l=Array(a),o=Array(i);for(r=0;r<a;++r)l[r]=t(e[r],n[r]);for(;r<i;++r)o[r]=n[r];return function(t){for(r=0;r<a;++r)o[r]=l[r](t);return o}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(e,n){var r,i={},a={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===n||"object"!=typeof n)&&(n={}),n)r in e?i[r]=t(e[r],n[r]):a[r]=n[r];return function(t){for(r in i)a[r]=i[r](t);return a}}:t2:function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}})(e,n)},u=n2;function c(){var t,e,n,s=Math.min(l.length,o.length);return u!==n2&&(t=l[0],e=l[s-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?n5:n4,i=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(l.map(t),o,s)))(t(u(e)))}return h.invert=function(n){return u(e((a||(a=r(o,l.map(t),t2)))(n)))},h.domain=function(t){return arguments.length?(l=Array.from(t,n0),c()):l.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),c()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),s=nQ,c()},h.clamp=function(t){return arguments.length?(u=!!t||n2,c()):u!==n2},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}var n8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n9(t){var e;if(!(e=n8.exec(t)))throw Error("invalid format: "+t);return new rt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function rt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function re(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rn(t){return(t=re(Math.abs(t)))?t[1]:NaN}function rr(t,e){var n=re(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")}n9.prototype=rt.prototype,rt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ri={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rr(100*t,e),r:rr,s:function(t,e){var n=re(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(s=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return a===l?r:a>l?r+Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+Array(1-a).join("0")+re(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ra(t){return t}var rl=Array.prototype.map,ro=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function rs(){var t,e=n7()(n2,n2);return e.copy=function(){return n6(e,rs())},nW.apply(e,arguments),t=e.domain,e.ticks=function(e){var n=t();return nX(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(t,e,n,r){var i,a,l=nK(t,e,n);switch((r=n9(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rn(o)/3)))-rn(Math.abs(l))))||(r.precision=a),h(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Math.max(0,rn(Math.abs(Math.max(Math.abs(t),Math.abs(e)))-(i=Math.abs(i=l)))-rn(i))+1)||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Math.max(0,-rn(Math.abs(l))))||(r.precision=a-("%"===r.type)*2)}return c(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),l=0,o=a.length-1,s=a[l],u=a[o],c=10;for(u<s&&(i=s,s=u,u=i,i=l,l=o,o=i);c-- >0;){if((i=nG(s,u,n))===r)return a[l]=s,a[o]=u,t(a);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else if(i<0)s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i;else break;r=i}return e},e}function ru(t,e){t=t.slice();var n,r=0,i=t.length-1,a=t[r],l=t[i];return l<a&&(n=r,r=i,i=n,n=a,a=l,l=n),t[r]=e.floor(a),t[i]=e.ceil(l),t}function rc(t){return Math.log(t)}function rh(t){return Math.exp(t)}function rd(t){return-Math.log(-t)}function rf(t){return-Math.exp(-t)}function rp(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rg(t){return(e,n)=>-t(-e,n)}function rm(){let t=(function(t){let e,n;let r=t(rc,rh),i=r.domain,a=10;function l(){var l,o;return e=(l=a)===Math.E?Math.log:10===l&&Math.log10||2===l&&Math.log2||(l=Math.log(l),t=>Math.log(t)/l),n=10===(o=a)?rp:o===Math.E?Math.exp:t=>Math.pow(o,t),i()[0]<0?(e=rg(e),n=rg(n),t(rd,rf)):t(rc,rh),r}return r.base=function(t){return arguments.length?(a=+t,l()):a},r.domain=function(t){return arguments.length?(i(t),l()):i()},r.ticks=t=>{let r,l;let o=i(),s=o[0],u=o[o.length-1],c=u<s;c&&([s,u]=[u,s]);let h=e(s),d=e(u),f=null==t?10:+t,p=[];if(!(a%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(r=1;r<a;++r)if(!((l=h<0?r/n(-h):r*n(h))<s)){if(l>u)break;p.push(l)}}else for(;h<=d;++h)for(r=a-1;r>=1;--r)if(!((l=h>0?r/n(-h):r*n(h))<s)){if(l>u)break;p.push(l)}2*p.length<f&&(p=nX(s,u,f))}else p=nX(h,d,Math.min(d-h,f)).map(n);return c?p.reverse():p},r.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=n9(i)).precision||(i.trim=!0),i=c(i)),t===1/0)return i;let l=Math.max(1,a*t/r.ticks().length);return t=>{let r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=l?i(t):""}},r.nice=()=>i(ru(i(),{floor:t=>n(Math.floor(e(t))),ceil:t=>n(Math.ceil(e(t)))})),r})(n7()).domain([1,10]);return t.copy=()=>n6(t,rm()).base(t.base()),nW.apply(t,arguments),t}c=(u=function(t){var e,n,r,i=void 0===t.grouping||void 0===t.thousands?ra:(e=rl.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],l=0,o=e[0],s=0;i>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),a.push(t.substring(i-=o,i+o)),!((s+=o+1)>r));)o=e[l=(l+1)%e.length];return a.reverse().join(n)}),a=void 0===t.currency?"":t.currency[0]+"",l=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?ra:(r=rl.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return r[+t]})}),c=void 0===t.percent?"%":t.percent+"",h=void 0===t.minus?"":t.minus+"",d=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=n9(t)).fill,n=t.align,r=t.sign,f=t.symbol,p=t.zero,g=t.width,m=t.comma,y=t.precision,v=t.trim,b=t.type;"n"===b?(m=!0,b="g"):ri[b]||(void 0===y&&(y=12),v=!0,b="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var x="$"===f?a:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===f?l:/[%p]/.test(b)?c:"",w=ri[b],M=/[defgprs%]/.test(b);function A(t){var a,l,c,f=x,A=_;if("c"===b)A=w(t)+A,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?d:w(Math.abs(t),y),v&&(t=function(t){e:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break e;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==r&&(k=!1),f=(k?"("===r?r:h:"-"===r||"("===r?"":r)+f,A=("s"===b?ro[8+s/3]:"")+A+(k&&"("===r?")":""),M){for(a=-1,l=t.length;++a<l;)if(48>(c=t.charCodeAt(a))||c>57){A=(46===c?o+t.slice(a+1):t.slice(a))+A,t=t.slice(0,a);break}}}m&&!p&&(t=i(t,1/0));var S=f.length+t.length+A.length,E=S<g?Array(g-S+1).join(e):"";switch(m&&p&&(t=i(E+t,E.length?g-A.length:1/0),E=""),n){case"<":t=f+t+A+E;break;case"=":t=f+E+t+A;break;case"^":t=E.slice(0,S=E.length>>1)+f+t+A+E.slice(S);break;default:t=E+f+t+A}return u(t)}return y=void 0===y?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),A.toString=function(){return t+""},A}return{format:f,formatPrefix:function(t,e){var n=f(((t=n9(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(rn(e)/3))),i=Math.pow(10,-r),a=ro[8+r/3];return function(t){return n(i*t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,h=u.formatPrefix;let ry=new Date,rv=new Date;function rb(t,e,n,r){function i(e){return t(e=0==arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{let e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,a)=>{let l;let o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;do o.push(l=new Date(+n)),e(n,a),t(n);while(l<n&&n<r);return o},i.filter=n=>rb(e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},(t,r)=>{if(t>=t){if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}}),n&&(i.count=(e,r)=>(ry.setTime(+e),rv.setTime(+r),t(ry),t(rv),Math.floor(n(ry,rv))),i.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null),i}let rx=rb(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rx.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?rb(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):rx:null,rx.range;let r_=rb(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+1e3*e)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds());r_.range;let rw=rb(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getMinutes());rw.range;let rM=rb(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes());rM.range;let rA=rb(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getHours());rA.range;let rk=rb(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours());rk.range;let rS=rb(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1);rS.range;let rE=rb(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1);rE.range;let rD=rb(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5));function rT(t){return rb(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}rD.range;let rC=rT(0),rN=rT(1),rL=rT(2),rI=rT(3),r$=rT(4),rz=rT(5),rO=rT(6);function rj(t){return rb(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/6048e5)}rC.range,rN.range,rL.range,rI.range,r$.range,rz.range,rO.range;let rR=rj(0),rF=rj(1),rW=rj(2),rH=rj(3),rU=rj(4),rP=rj(5),rY=rj(6);rR.range,rF.range,rW.range,rH.range,rU.range,rP.range,rY.range;let rB=rb(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rB.range;let rq=rb(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rq.range;let rV=rb(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rV.every=t=>isFinite(t=Math.floor(t))&&t>0?rb(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null,rV.range;let rX=rb(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function rG(t,e,n,r,i,a){let l=[[r_,1,1e3],[r_,5,5e3],[r_,15,15e3],[r_,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function o(e,n,r){let i=Math.abs(n-e)/r,a=k(([,,t])=>t).right(l,i);if(a===l.length)return t.every(nK(e/31536e6,n/31536e6,r));if(0===a)return rx.every(Math.max(nK(e,n,r),1));let[o,s]=l[i/l[a-1][2]<l[a][2]/i?a-1:a];return o.every(s)}return[function(t,e,n){let r=e<t;r&&([t,e]=[e,t]);let i=n&&"function"==typeof n.range?n:o(t,e,n),a=i?i.range(t,+e+1):[];return r?a.reverse():a},o]}rX.every=t=>isFinite(t=Math.floor(t))&&t>0?rb(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null,rX.range;let[rK,rZ]=rG(rX,rq,rR,rD,rk,rM),[rJ,rQ]=rG(rV,rB,rC,rS,rA,rw);function r0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function r2(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var r3={"-":"",_:" ",0:"0"},r4=/^\s*\d+/,r5=/^%/,r6=/[\\^$*+?|[\]().{}]/g;function r7(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?Array(n-a+1).join(e)+i:i)}function r8(t){return t.replace(r6,"\\$&")}function r9(t){return RegExp("^(?:"+t.map(r8).join("|")+")","i")}function it(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function ie(t,e,n){var r=r4.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=r4.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ii(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ia(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function il(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function io(t,e,n){var r=r4.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function is(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iu(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ic(t,e,n){var r=r4.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ih(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function id(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ip(t,e,n){var r=r4.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ig(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function im(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function iy(t,e,n){var r=r4.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function iv(t,e,n){var r=r4.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ib(t,e,n){var r=r4.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ix(t,e,n){var r=r5.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function i_(t,e,n){var r=r4.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function iw(t,e,n){var r=r4.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iM(t,e){return r7(t.getDate(),e,2)}function iA(t,e){return r7(t.getHours(),e,2)}function ik(t,e){return r7(t.getHours()%12||12,e,2)}function iS(t,e){return r7(1+rS.count(rV(t),t),e,3)}function iE(t,e){return r7(t.getMilliseconds(),e,3)}function iD(t,e){return iE(t,e)+"000"}function iT(t,e){return r7(t.getMonth()+1,e,2)}function iC(t,e){return r7(t.getMinutes(),e,2)}function iN(t,e){return r7(t.getSeconds(),e,2)}function iL(t){var e=t.getDay();return 0===e?7:e}function iI(t,e){return r7(rC.count(rV(t)-1,t),e,2)}function i$(t){var e=t.getDay();return e>=4||0===e?r$(t):r$.ceil(t)}function iz(t,e){return t=i$(t),r7(r$.count(rV(t),t)+(4===rV(t).getDay()),e,2)}function iO(t){return t.getDay()}function ij(t,e){return r7(rN.count(rV(t)-1,t),e,2)}function iR(t,e){return r7(t.getFullYear()%100,e,2)}function iF(t,e){return r7((t=i$(t)).getFullYear()%100,e,2)}function iW(t,e){return r7(t.getFullYear()%1e4,e,4)}function iH(t,e){var n=t.getDay();return r7((t=n>=4||0===n?r$(t):r$.ceil(t)).getFullYear()%1e4,e,4)}function iU(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+r7(e/60|0,"0",2)+r7(e%60,"0",2)}function iP(t,e){return r7(t.getUTCDate(),e,2)}function iY(t,e){return r7(t.getUTCHours(),e,2)}function iB(t,e){return r7(t.getUTCHours()%12||12,e,2)}function iq(t,e){return r7(1+rE.count(rX(t),t),e,3)}function iV(t,e){return r7(t.getUTCMilliseconds(),e,3)}function iX(t,e){return iV(t,e)+"000"}function iG(t,e){return r7(t.getUTCMonth()+1,e,2)}function iK(t,e){return r7(t.getUTCMinutes(),e,2)}function iZ(t,e){return r7(t.getUTCSeconds(),e,2)}function iJ(t){var e=t.getUTCDay();return 0===e?7:e}function iQ(t,e){return r7(rR.count(rX(t)-1,t),e,2)}function i0(t){var e=t.getUTCDay();return e>=4||0===e?rU(t):rU.ceil(t)}function i1(t,e){return t=i0(t),r7(rU.count(rX(t),t)+(4===rX(t).getUTCDay()),e,2)}function i2(t){return t.getUTCDay()}function i3(t,e){return r7(rF.count(rX(t)-1,t),e,2)}function i4(t,e){return r7(t.getUTCFullYear()%100,e,2)}function i5(t,e){return r7((t=i0(t)).getUTCFullYear()%100,e,2)}function i6(t,e){return r7(t.getUTCFullYear()%1e4,e,4)}function i7(t,e){var n=t.getUTCDay();return r7((t=n>=4||0===n?rU(t):rU.ceil(t)).getUTCFullYear()%1e4,e,4)}function i8(){return"+0000"}function i9(){return"%"}function at(t){return+t}function ae(t){return Math.floor(+t/1e3)}function an(t){return new Date(t)}function ar(t){return t instanceof Date?+t:+new Date(+t)}function ai(){return nW.apply((function t(e,n,r,i,a,l,o,s,u,c){var h=n7()(n2,n2),d=h.invert,f=h.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function w(t){return(u(t)<t?p:s(t)<t?g:o(t)<t?m:l(t)<t?y:i(t)<t?a(t)<t?v:b:r(t)<t?x:_)(t)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?f(Array.from(t,ar)):f().map(an)},h.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},h.tickFormat=function(t,e){return null==e?w:c(e)},h.nice=function(t){var e=f();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?f(ru(e,t)):h},h.copy=function(){return n6(h,t(e,n,r,i,a,l,o,s,u,c))},h})(rK,rZ,rX,rq,rR,rE,rk,rM,r_,f).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function aa(t){return"string"==typeof t?new tS([[document.querySelector(t)]],[document.documentElement]):new tS([[t]],tk)}function al(t){return function(){return t}}(d=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,o=t.months,s=t.shortMonths,u=r9(i),c=it(i),h=r9(a),d=it(a),f=r9(l),p=it(l),g=r9(o),m=it(o),y=r9(s),v=it(s),b={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:iM,e:iM,f:iD,g:iF,G:iH,H:iA,I:ik,j:iS,L:iE,m:iT,M:iC,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:at,s:ae,S:iN,u:iL,U:iI,V:iz,w:iO,W:ij,x:null,X:null,y:iR,Y:iW,Z:iU,"%":i9},x={a:function(t){return l[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:iP,e:iP,f:iX,g:i5,G:i7,H:iY,I:iB,j:iq,L:iV,m:iG,M:iK,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:at,s:ae,S:iZ,u:iJ,U:iQ,V:i1,w:i2,W:i3,x:null,X:null,y:i4,Y:i6,Z:i8,"%":i9},_={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:id,e:id,f:ib,g:is,G:io,H:ig,I:ig,j:ip,L:iv,m:ih,M:im,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:ic,Q:i_,s:iw,S:iy,u:ir,U:ii,V:ia,w:ie,W:il,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:is,Y:io,Z:iu,"%":ix};function w(t,e){return function(n){var r,i,a,l=[],o=-1,s=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++o<u;)37===t.charCodeAt(o)&&(l.push(t.slice(s,o)),null!=(i=r3[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),l.push(r),s=o+1);return l.push(t.slice(s,o)),l.join("")}}function M(t,e){return function(n){var r,i,a=r2(1900,void 0,1);if(A(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!e||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=(r=r1(r2(a.y,0,1))).getUTCDay())>4||0===i?rF.ceil(r):rF(r),r=rE.offset(r,(a.V-1)*7),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=(i=(r=r0(r2(a.y,0,1))).getDay())>4||0===i?rN.ceil(r):rN(r),r=rS.offset(r,(a.V-1)*7),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?r1(r2(a.y,0,1)).getUTCDay():r0(r2(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,r1(a)):r0(a)}}function A(t,e,n,r){for(var i,a,l=0,o=e.length,s=n.length;l<o;){if(r>=s)return -1;if(37===(i=e.charCodeAt(l++))){if(!(a=_[(i=e.charAt(l++))in r3?e.charAt(l++):i])||(r=a(t,n,r))<0)return -1}else if(i!=n.charCodeAt(r++))return -1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,d.parse,f=d.utcFormat,d.utcParse;let ao=Math.abs,as=Math.atan2,au=Math.cos,ac=Math.max,ah=Math.min,ad=Math.sin,af=Math.sqrt,ap=Math.PI,ag=ap/2,am=2*ap;function ay(t){return t>=1?ag:t<=-1?-ag:Math.asin(t)}function av(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{let t=Math.floor(n);if(!(t>=0))throw RangeError(`invalid digits: ${n}`);e=t}return t},()=>new nR(e)}function ab(t){return t.innerRadius}function ax(t){return t.outerRadius}function a_(t){return t.startAngle}function aw(t){return t.endAngle}function aM(t){return t&&t.padAngle}function aA(t,e,n,r,i,a,l){var o=t-n,s=e-r,u=(l?a:-a)/af(o*o+s*s),c=u*s,h=-u*o,d=t+c,f=e+h,p=n+c,g=r+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,x=v*v+b*b,_=i-a,w=d*g-p*f,M=(b<0?-1:1)*af(ac(0,_*_*x-w*w)),A=(w*b-v*M)/x,k=(-w*v-b*M)/x,S=(w*b+v*M)/x,E=(-w*v+b*M)/x,D=A-m,T=k-y,C=S-m,N=E-y;return D*D+T*T>C*C+N*N&&(A=S,k=E),{cx:A,cy:k,x01:-c,y01:-h,x11:A*(i/_-1),y11:k*(i/_-1)}}function ak(){var t=ab,e=ax,n=al(0),r=null,i=a_,a=aw,l=aM,o=null,s=av(u);function u(){var u,c,h=+t.apply(this,arguments),d=+e.apply(this,arguments),f=i.apply(this,arguments)-ag,p=a.apply(this,arguments)-ag,g=ao(p-f),m=p>f;if(o||(o=u=s()),d<h&&(c=d,d=h,h=c),d>1e-12){if(g>am-1e-12)o.moveTo(d*au(f),d*ad(f)),o.arc(0,0,d,f,p,!m),h>1e-12&&(o.moveTo(h*au(p),h*ad(p)),o.arc(0,0,h,p,f,m));else{var y,v,b=f,x=p,_=f,w=p,M=g,A=g,k=l.apply(this,arguments)/2,S=k>1e-12&&(r?+r.apply(this,arguments):af(h*h+d*d)),E=ah(ao(d-h)/2,+n.apply(this,arguments)),D=E,T=E;if(S>1e-12){var C=ay(S/h*ad(k)),N=ay(S/d*ad(k));(M-=2*C)>1e-12?(C*=m?1:-1,_+=C,w-=C):(M=0,_=w=(f+p)/2),(A-=2*N)>1e-12?(N*=m?1:-1,b+=N,x-=N):(A=0,b=x=(f+p)/2)}var L=d*au(b),I=d*ad(b),$=h*au(w),z=h*ad(w);if(E>1e-12){var O,j=d*au(x),R=d*ad(x),F=h*au(_),W=h*ad(_);if(g<ap){if(O=function(t,e,n,r,i,a,l,o){var s=n-t,u=r-e,c=l-i,h=o-a,d=h*s-c*u;if(!(d*d<1e-12))return d=(c*(e-a)-h*(t-i))/d,[t+d*s,e+d*u]}(L,I,F,W,j,R,$,z)){var H,U=L-O[0],P=I-O[1],Y=j-O[0],B=R-O[1],q=1/ad(((H=(U*Y+P*B)/(af(U*U+P*P)*af(Y*Y+B*B)))>1?0:H<-1?ap:Math.acos(H))/2),V=af(O[0]*O[0]+O[1]*O[1]);D=ah(E,(h-V)/(q-1)),T=ah(E,(d-V)/(q+1))}else D=T=0}}A>1e-12?T>1e-12?(y=aA(F,W,L,I,d,T,m),v=aA(j,R,$,z,d,T,m),o.moveTo(y.cx+y.x01,y.cy+y.y01),T<E?o.arc(y.cx,y.cy,T,as(y.y01,y.x01),as(v.y01,v.x01),!m):(o.arc(y.cx,y.cy,T,as(y.y01,y.x01),as(y.y11,y.x11),!m),o.arc(0,0,d,as(y.cy+y.y11,y.cx+y.x11),as(v.cy+v.y11,v.cx+v.x11),!m),o.arc(v.cx,v.cy,T,as(v.y11,v.x11),as(v.y01,v.x01),!m))):(o.moveTo(L,I),o.arc(0,0,d,b,x,!m)):o.moveTo(L,I),h>1e-12&&M>1e-12?D>1e-12?(y=aA($,z,j,R,h,-D,m),v=aA(L,I,F,W,h,-D,m),o.lineTo(y.cx+y.x01,y.cy+y.y01),D<E?o.arc(y.cx,y.cy,D,as(y.y01,y.x01),as(v.y01,v.x01),!m):(o.arc(y.cx,y.cy,D,as(y.y01,y.x01),as(y.y11,y.x11),!m),o.arc(0,0,h,as(y.cy+y.y11,y.cx+y.x11),as(v.cy+v.y11,v.cx+v.x11),m),o.arc(v.cx,v.cy,D,as(v.y11,v.x11),as(v.y01,v.x01),!m))):o.arc(0,0,h,w,_,m):o.lineTo($,z)}}else o.moveTo(0,0);if(o.closePath(),u)return o=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-ap/2;return[au(r)*n,ad(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:al(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:al(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:al(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:al(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:al(+t),u):i},u.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:al(+t),u):a},u.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:al(+t),u):l},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}function aS(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function aE(t){this._context=t}function aD(t){return new aE(t)}function aT(t){return t[0]}function aC(t){return t[1]}function aN(t,e){var n=al(!0),r=null,i=aD,a=null,l=av(o);function o(o){var s,u,c,h=(o=aS(o)).length,d=!1;for(null==r&&(a=i(c=l())),s=0;s<=h;++s)!(s<h&&n(u=o[s],s,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(u,s,o),+e(u,s,o));if(c)return a=null,c+""||null}return t="function"==typeof t?t:void 0===t?aT:al(t),e="function"==typeof e?e:void 0===e?aC:al(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:al(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:al(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:al(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function aL(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function aI(t){return t}Array.prototype.slice,aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},af(3);var a$={draw(t,e){let n=af(e/ap);t.moveTo(n,0),t.arc(0,0,n,0,am)}};af(1/3);var az={draw(t,e){let n=.62625*af(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},aO={draw(t,e){let n=af(e),r=-n/2;t.rect(r,r,n,n)}};ad(ap/10),ad(7*ap/10),ad(am/10),au(am/10),af(3);let aj=af(3);var aR={draw(t,e){let n=.6824*af(e),r=n/2,i=n*aj/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};function aF(t,e){let n=null,r=av(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:al(t||a$),e="function"==typeof e?e:al(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:al(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:al(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}function aW(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aH(t){this._context=t}function aU(t){return new aH(t)}function aP(t,e,n){this.k=t,this.x=e,this.y=n}af(3),af(12),aH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aW(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aW(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},aP.prototype={constructor:aP,scale:function(t){return 1===t?this:new aP(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new aP(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new aP(1,0,0),aP.prototype;var aY=n(23279),aB=n.n(aY);function aq(){let t=performance.now();return{end:()=>performance.now()-t}}var aV=n(58843),aX=n(23493),aG=n.n(aX),aK=n(13937);let aZ=()=>tT("hover-shape","click-chart");var aJ=n(27361),aQ=n.n(aJ);let a0=t=>{let{chart:e,preparedTitle:n}=t,r=aQ()(e,"margin.top",0);return(null==n?void 0:n.height)&&(r+=n.height),r},a1=t=>{let{chart:e}=t;return aQ()(e,"margin.right",0)},a2=t=>{let{chart:e,preparedTitle:n}=t,r=a0({chart:e,preparedTitle:n}),i=aQ()(e,"margin.bottom",0),a=aQ()(e,"margin.left",0);return{margin:{top:r,right:a1({chart:e}),bottom:i,left:a}}};var a3=n(13283),a4=n(14293),a5=n.n(a4);let a6=new(n(98085)).m;a6.setLang("ru");var a7=JSON.parse('{"chartkit-units":{"value_short-bytes":"B","value_short-kilobytes":"KB","value_short-megabytes":"MB","value_short-milliseconds":"ms","value_short-seconds":"s","value_short-minutes":"m","value_short-empty":"","value_short-k":"K","value_short-m":"M","value_short-b":"B","value_short-t":"T","value_space-delimiter":" ","value_number-delimiter":""}}');let a8=(Object.entries({ru:JSON.parse('{"chartkit-units":{"value_short-bytes":"","value_short-kilobytes":"","value_short-megabytes":"","value_short-milliseconds":"","value_short-seconds":"","value_short-minutes":"","value_short-empty":"","value_short-k":"K","value_short-m":"M","value_short-b":"B","value_short-t":"T","value_space-delimiter":" ","value_number-delimiter":""}}'),en:a7}).forEach(t=>{let[e,n]=t;return a6.registerKeysets(e,n)}),a6.i18n.bind(a6,"chartkit-units"));function a9(t,e,n){let r=1;for(;Math.abs(t/Math.pow(e,r))>=1&&r<10&&a8(n[r]);)r++;return r-1}let lt=t=>{let{exponent:e,unitsI18nKeys:n,unitDelimiterI18nKey:r}=t;return function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{precision:a,unitRate:l,showRankDelimiter:o=!0,lang:s}=i,u=a6.lang;s&&a6.setLang(s);let c="number"==typeof l?l:a9(t,e,n),h=t/Math.pow(e,c);"number"==typeof a?h=Number(h.toFixed(a)):"auto"===a&&h%1!=0&&(h=Number(h.toFixed(Math.abs(h)>1?2:4))),h=new Intl.NumberFormat(null!=s?s:u,{minimumFractionDigits:"number"==typeof a?a:0,maximumFractionDigits:20,useGrouping:o}).format(h);let d=a8(n[c]),f=a8(r);return a6.setLang(u),"".concat(h).concat(f).concat(d)}};lt({exponent:1024,unitDelimiterI18nKey:"value_space-delimiter",unitsI18nKeys:["value_short-bytes","value_short-kilobytes","value_short-megabytes"]}),lt({exponent:1e3,unitDelimiterI18nKey:"value_space-delimiter",unitsI18nKeys:["value_short-milliseconds","value_short-seconds","value_short-minutes"]});let le=["value_short-empty","value_short-k","value_short-m","value_short-b","value_short-t"],ln=lt({exponent:1e3,unitDelimiterI18nKey:"value_number-delimiter",unitsI18nKeys:le}),lr=t=>a9(t,1e3,le),li={default:0,auto:void 0,k:1,m:2,b:3,t:4},la=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Number.isNaN(t)||Number.isNaN(Number(t)))return new Intl.NumberFormat("en").format(Number(t));let{format:n="number",multiplier:r=1,prefix:i="",postfix:a="",unit:l,unitRate:o,labelMode:s}=e,u=r,c="";"percent"===n&&(u=100,c="%"),"percent"===s&&(c="%");let h=ln(Number(t)*u,Object.assign(Object.assign({},e),{unitRate:null!=o?o:li[null!=l?l:"default"]}));return"".concat(i).concat(h).concat(c).concat(a)},ll=["#4DA2F1","#FF3D64","#8AD554","#FFC636","#FFB9DD","#84D1EE","#FF91A1","#54A520","#DB9100","#BA74B3","#1F68A9","#ED65A9","#0FA08D","#FF7E00","#E8B0A4","#52A6C5","#BE2443","#70C1AF","#FFB46C","#DCA3D7"],lo="11px";var ls=n(88306),lu=n.n(ls);let lc={Area:"area",BarX:"bar-x",BarY:"bar-y",Line:"line",Pie:"pie",Scatter:"scatter",Treemap:"treemap",Waterfall:"waterfall"};(r=p||(p={})).Dash="Dash",r.DashDot="DashDot",r.Dot="Dot",r.LongDash="LongDash",r.LongDashDot="LongDashDot",r.LongDashDotDot="LongDashDotDot",r.ShortDash="ShortDash",r.ShortDashDot="ShortDashDot",r.ShortDashDotDot="ShortDashDotDot",r.ShortDot="ShortDot",r.Solid="Solid",(i=g||(g={})).Circle="circle",i.Diamond="diamond",i.Square="square",i.Triangle="triangle",i.TriangleDown="triangle-down",(a=m||(m={})).Butt="butt",a.Round="round",a.Square="square",a.None="none",(l=y||(y={})).Binary="binary",l.Dice="dice",l.Slice="slice",l.SliceDice="slice-dice",l.Squarify="squarify";let lh={fontSize:"11px",fontWeight:"bold",fontColor:"var(--d3-data-labels)"},ld={enabled:!0,opacity:.25,size:6},lf={radius:4,borderColor:"",borderWidth:0,symbol:"circle"},lp=t=>t.reduce((t,e)=>(e.legend.enabled&&e.visible&&t.push(e.name),t),[]),lg=t=>t.map(t=>t.name);function lm(t,e){var n;let r=(null===(n=t.legend)||void 0===n?void 0:n.symbol)||{};return{shape:"symbol",symbolType:e||g.Circle,width:(null==r?void 0:r.width)||8,padding:(null==r?void 0:r.padding)||5}}let ly=lu()(aV.p);function lv(t){let e=t.stackId;return e||(e=t.stacking?ly():(0,aV.p)()),e}let lb={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},lx={millisecond:"DD.MM.YY HH:mm:ss.SSS",second:"DD.MM.YY HH:mm:ss",minute:"DD.MM.YY HH:mm",hour:"DD.MM.YY HH:mm",day:"DD.MM.YY",week:"DD.MM.YY",month:"MMM 'YY",year:"YYYY"},l_=["pie","treemap"],lw=["bar-x","area","waterfall"],lM=["bar-y"];function lA(t){return!l_.includes(t.type)}function lk(t){return lA(t)}function lS(t){return lA(t)}function lE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"y",r=[];return Array.from(L(t,lv)).forEach(t=>{let[i,a]=t,l={};a.forEach(t=>{let r=new Map;t.data.forEach(t=>{let i=String(t[e]),a=0;n in t&&"number"==typeof t[n]&&(a=t[n]),r.has(i)&&(a=Math.max(a,r.get(i))),r.set(i,a)}),Array.from(r).forEach(t=>{let[e,n]=t;l[e]=(l[e]||0)+n})}),r.push(...Object.values(l))}),r}let lD=t=>Array.from(L(t,t=>t.type)).reduce((t,e)=>{let[n,r]=e;return"bar-y"===n?t.push(...lE(r,"y","x")):r.filter(lk).forEach(e=>{t.push(...e.data.map(t=>t.x))}),t},[]),lT=t=>Array.from(L(t,t=>t.type)).reduce((t,e)=>{let[n,r]=e;switch(n){case"area":case"bar-x":t.push(...lE(r));break;case"waterfall":{let e=0;r.forEach(n=>{n.data.forEach(n=>{e+=Number(n.y)||0,t.push(e)})});break}default:r.filter(lS).forEach(e=>{t.push(...e.data.map(t=>t.y))})}return t},[]),lC=t=>t.reduce((t,e)=>("name"in e&&"string"==typeof e.name&&t.push(e.name),t),[]),lN=t=>t.filter(t=>t.visible),lL=t=>{var e;if(!t)return{};let[n,r]=((null===(e=t.match(/\((.*?)\)/))||void 0===e?void 0:e[1])||"").split(",");return{x:Number.isNaN(Number(n))?void 0:Number(n),y:Number.isNaN(Number(r))?void 0:Number(r)}},lI=t=>{let{axis:e,value:n,step:r}=t;switch(e.type){case"category":return n;case"datetime":{let t=e.labels.dateFormat||function(t){if(t){let e=function(t){let e=Object.keys(lb),n=e.findIndex(e=>t<lb[e]);return -1===n?"year":e[n-1]}(t);if(e in lx)return lx[e]}return lx.day}(r);return(0,a3.CQ)({input:n}).format(t)}default:{let t=Object.assign({unitRate:n&&r?lr(r):void 0},e.labels.numberFormat);return la(n,t)}}},l$=t=>{var e;let{text:n,style:r}=t,i=aa(document.body).append("svg"),a=i.append("text").text(n),l=aQ()(r,"fontSize",lo);l&&a.style("font-size",l).style("alignment-baseline","after-edge");let o=(null===(e=a.node())||void 0===e?void 0:e.getBoundingClientRect().height)||0;return i.remove(),o},lz=t=>{let e;let{axisDirection:n,categories:r,data:i}=t,a=aQ()(i,n);if("category"in i&&i.category&&(e=i.category),"string"==typeof a&&(e=a),"number"==typeof a&&(e=r[a]),a5()(e))throw Error("It seems you are trying to get non-existing category value");return e},lO=t=>{let{axisDirection:e,categories:n,data:r}=t;return lz({axisDirection:e,categories:n,data:r})};function lj(t,e){if("category"!==t.type)return e[1]-e[0]}let lR=t=>{let{title:e}=t,n=aQ()(e,"text"),r={fontSize:aQ()(e,"style.fontSize","15px"),fontWeight:aQ()(e,"style.fontWeight")},i=n?l$({text:n,style:r})+16:0;return n?{text:n,style:r,height:i}:void 0},lF=t=>{let{tooltip:e}=t;return Object.assign(Object.assign({},e),{enabled:aQ()(e,"enabled",!0)})},lW=t=>{let{data:{chart:e,title:n,tooltip:r}}=t;return v.useMemo(()=>{let t=lR({title:n}),i=lF({tooltip:r});return{chart:a2({chart:e,preparedTitle:t}),title:t,tooltip:i}},[e,n,r])};var lH=n(66678),lU=n.n(lH),lP=n(82492),lY=n.n(lP);let lB={align:"center",itemDistance:20,margin:15,itemStyle:{fontSize:"12px"}},lq=t=>{let{chartWidth:e,chartMargin:n,preparedYAxis:r}=t;return e-n.right-n.left-function(t){let{preparedAxis:e}=t,n=0,r=0;return null==e||e.forEach(t=>{let e=lV(t);"right"===t.position?r=Math.max(r,e):n=Math.max(n,e)}),n+r}({preparedAxis:r})};function lV(t){let e=0;return(null==t?void 0:t.title.text)&&(e+=t.title.height+t.title.margin),(null==t?void 0:t.labels.enabled)&&(e+=t.labels.margin+t.labels.width),e}let lX=t=>{let{legend:e,series:n}=t,r=!!("boolean"==typeof(null==e?void 0:e.enabled)?null==e?void 0:e.enabled:n.length>1),i=lU()(lB.itemStyle),a=aQ()(e,"itemStyle"),l=lY()(i,a),o=l$({text:"Tmp",style:l});return{align:aQ()(e,"align",lB.align),enabled:r,height:r?o:0,itemDistance:aQ()(e,"itemDistance",lB.itemDistance),itemStyle:l,lineHeight:o,margin:aQ()(e,"margin",lB.margin)}},lG=t=>t.reduce((t,e)=>(aQ()(e,"legend.enabled",!0)&&t.push(Object.assign(Object.assign({},e),{symbol:e.legend.symbol})),t),[]),lK=t=>{let{maxLegendWidth:e,items:n,preparedLegend:r}=t,i=[[]],a=[0],l=0;return n.forEach(t=>{aa(document.body).append("text").text(t.name).style("font-size",r.itemStyle.fontSize).each(function(){let n=lU()(t),o=this.getBoundingClientRect().width;n.textWidth=o,a.push(o);let s=a.reduce((t,e)=>t+e,0);if(i[l].push(n),e<s+i[l].reduce((t,e)=>{let{symbol:n}=e;return t+n.width+n.padding},0)+(i[l].length-1)*r.itemDistance){i[l].pop(),l+=1,a=[o];let t=l;i[t]=[],i[t].push(n)}}).remove()}),i},lZ=t=>{let e;let{chartWidth:n,chartHeight:r,chartMargin:i,series:a,preparedLegend:l,preparedYAxis:o}=t,s=lq({chartWidth:n,chartMargin:i,preparedYAxis:o}),u=(r-i.top-i.bottom-l.margin)/2,c=lK({maxLegendWidth:s,items:lG(a),preparedLegend:l}),h=l.lineHeight*c.length;if(u<h){let t=Math.floor(u/l.lineHeight)-1,n=Math.ceil(c.length/t);e={limit:t,maxPage:n},h=u}l.height=h;let d=r-i.bottom-l.height;return{legendConfig:{offset:{left:i.left+lV(o[0]),top:d},pagination:e},legendItems:c}},lJ={"bar-x":{barMaxWidth:50,barPadding:.1,groupPadding:.2,states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},"bar-y":{barMaxWidth:50,barPadding:.1,groupPadding:.2,states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},pie:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},scatter:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},line:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},area:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},treemap:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},waterfall:{barMaxWidth:50,barPadding:.1,states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}}},lQ=t=>lY()({},lJ,t);var l0=n(46663);let l1=Object.assign(Object.assign({},lf),{enabled:!1});function l2(t,e){var n,r,i;if(!t)return;let a=t.closest("svg");if(!a)return;let l=t.closest("text"),o=(null===(n=Array.from((null==l?void 0:l.transform.baseVal)||[]).find(t=>t.angle))||void 0===n?void 0:n.angle)||0,s=a.createSVGTransform();s.setRotate(-o,0,0),null==l||l.transform.baseVal.appendItem(s);let u=t.textContent||"",c=(null===(r=t.getBoundingClientRect())||void 0===r?void 0:r.width)||0;for(;c>e&&u.length>1;)u=u.slice(0,-1),t.textContent=u+"",c=(null===(i=t.getBoundingClientRect())||void 0===i?void 0:i.width)||0;null==l||l.transform.baseVal.removeItem((null==l?void 0:l.transform.baseVal.length)-1)}function l3(t,e){let n=t.text();t.text(null).append("title").text(n),l2(t.append("tspan").text(n).style("alignment-baseline","inherit").node(),e)}function l4(t,e){t.each(function(t){let n="function"==typeof e?e(t):e;l3(aa(this),n)})}function l5(t){var e;let{labels:n,style:r,rotation:i}=t;if(!n.filter(Boolean).length)return{maxHeight:0,maxWidth:0};let a=aa(document.body).append("div").attr("class","chartkit chartkit-theme_common"),l=a.append("svg"),o=function(t,e){let{labels:n,style:r={},attrs:i={}}=e,a=t.append("g").append("text");return a.style("font-size",r.fontSize||""),a.style("font-weight",r.fontWeight||""),Object.entries(i).forEach(t=>{let[e,n]=t;a.attr(e,n)}),a.selectAll("tspan").data(n).enter().append("tspan").attr("x",0).attr("dy",0).text(t=>t),a}(l,{labels:n,style:r});i&&o.attr("text-anchor",i>0?"start":"end").style("transform","rotate(".concat(i,"deg)"));let{height:s=0,width:u=0}=(null===(e=l.select("g").node())||void 0===e?void 0:e.getBoundingClientRect())||{};return a.remove(),{maxHeight:s,maxWidth:u}}function l6(t){let{text:e,style:n,width:r}=t,i=l5({labels:[e],style:n}).maxHeight;return Array.from(new Intl.Segmenter([],{granularity:"word"}).segment(e)).reduce((t,e)=>{t.length||t.push({text:"",y:t.length*i});let a=t[t.length-1];return e.isWordLike&&l5({labels:[a.text+e.segment],style:n}).maxWidth>r&&(a={text:"",y:t.length*i},t.push(a)),a.text+=e.segment,t},[])}let l7=p.Solid,l8=Object.assign(Object.assign({},lf),{enabled:!1}),l9=t=>{let e=Object.values(g);return e[t%e.length]},ot=Math.sqrt(3),oe={draw:(t,e)=>{let n=.6824*Math.sqrt(e),r=n/2,i=n*ot/2;t.moveTo(0,n),t.lineTo(i,-r),t.lineTo(-i,-r),t.closePath()}},on=t=>{switch(t){case g.Diamond:return az;case g.Circle:return a$;case g.Square:return aO;case g.Triangle:return aR;case g.TriangleDown:return oe;default:return a$}},or=t=>{let{chartWidth:e,chartHeight:n,chartMargin:r,legend:i,preparedYAxis:a,series:{data:l,options:o}}=t,s=v.useMemo(()=>lX({legend:i,series:l}),[i,l]),u=v.useMemo(()=>{let t=nU(lC(l),ll);return Array.from(L(l,t=>t.type)).reduce((e,n)=>{let[r,i]=n;return e.push(...function(t){let{type:e,series:n,seriesOptions:r,legend:i,colorScale:a}=t;switch(e){case"pie":return n.reduce((t,e)=>(t.push(...function(t){let{series:e,seriesOptions:n,legend:r}=t,i=nU(e.data.map(t=>t.name),ll),a=(0,aV.p)(),l=aQ()(n,"pie.states.hover");return e.data.map((t,n)=>{var o,s,u;return{type:"pie",data:t,dataLabels:{enabled:aQ()(e,"dataLabels.enabled",!0),style:Object.assign({},lh,null===(o=e.dataLabels)||void 0===o?void 0:o.style),padding:aQ()(e,"dataLabels.padding",5),allowOverlap:aQ()(e,"dataLabels.allowOverlap",!1),connectorPadding:aQ()(e,"dataLabels.connectorPadding",5),connectorShape:aQ()(e,"dataLabels.connectorShape","polyline"),distance:aQ()(e,"dataLabels.distance",25),connectorCurve:aQ()(e,"dataLabels.connectorCurve","basic")},label:t.label,value:t.value,visible:"boolean"!=typeof t.visible||t.visible,name:t.name,id:"Series ".concat(n),color:t.color||i(t.name),legend:{enabled:aQ()(e,"legend.enabled",r.enabled),symbol:lm(e)},center:e.center||["50%","50%"],borderColor:e.borderColor||"",borderRadius:null!==(s=e.borderRadius)&&void 0!==s?s:0,borderWidth:null!==(u=e.borderWidth)&&void 0!==u?u:1,radius:e.radius||"100%",innerRadius:e.innerRadius||0,stackId:a,states:{hover:{halo:{enabled:aQ()(l,"halo.enabled",!0),opacity:aQ()(l,"halo.opacity",.25),size:aQ()(l,"halo.size",10)}}},renderCustomShape:e.renderCustomShape,opacity:aQ()(t,"opacity",null),cursor:aQ()(e,"cursor",null)}})}({series:e,seriesOptions:r,legend:i})),t),[]);case"bar-x":return function(t){let{colorScale:e,series:n,legend:r}=t;return n.map(t=>{var n,i,a,l,o;let s=t.name||"",u=t.color||e(s);return{type:t.type,color:u,name:s,id:(0,aV.p)(),visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",r.enabled),symbol:lm(t)},data:t.data,stacking:t.stacking,stackId:lv(t),dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,inside:"boolean"==typeof(null===(i=t.dataLabels)||void 0===i?void 0:i.inside)&&(null===(a=t.dataLabels)||void 0===a?void 0:a.inside),style:Object.assign({},lh,null===(l=t.dataLabels)||void 0===l?void 0:l.style),allowOverlap:(null===(o=t.dataLabels)||void 0===o?void 0:o.allowOverlap)||!1,padding:aQ()(t,"dataLabels.padding",5)},cursor:aQ()(t,"cursor",null),yAxis:aQ()(t,"yAxis",0)}},[])}({series:n,legend:i,colorScale:a});case"bar-y":return function(t){let{colorScale:e,series:n,legend:r}=t;return n.map(t=>{let n=t.name||"",i=t.color||e(n);return{type:t.type,color:i,name:n,id:(0,aV.p)(),visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",r.enabled),symbol:lm(t)},data:t.data,stacking:t.stacking,stackId:lv(t),dataLabels:function(t){var e;let n=aQ()(t,"dataLabels.enabled",!1),r=Object.assign({},lh,null===(e=t.dataLabels)||void 0===e?void 0:e.style),{maxHeight:i=0,maxWidth:a=0}=n?l5({labels:t.data.map(t=>String(t.label||t.x)),style:r}):{};return{enabled:n,inside:"percent"===t.stacking||aQ()(t,"dataLabels.inside",!1),style:r,maxHeight:i,maxWidth:a}}(t),cursor:aQ()(t,"cursor",null)}},[])}({series:n,legend:i,colorScale:a});case"scatter":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t;return n.map((t,n)=>{let a=(0,aV.p)(),l="name"in t&&t.name?t.name:"",o=t.symbolType||l9(n);return{id:a,type:t.type,name:l,color:aQ()(t,"color",e(l)),visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",i.enabled),symbol:lm(t,o)},data:t.data,marker:function(t,e,n){let r=aQ()(e,"scatter.states.hover"),i=Object.assign(Object.assign({},lf),{enabled:!0,symbol:t.symbolType||l9(n)}),a={enabled:!0,radius:i.radius,borderWidth:1,borderColor:"#ffffff",halo:ld};return{states:{normal:i,hover:lY()(a,null==r?void 0:r.marker)}}}(t,r,n),cursor:aQ()(t,"cursor",null),yAxis:aQ()(t,"yAxis",0)}},[])}({series:n,legend:i,colorScale:a});case"line":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t,a=aQ()(r,"line.lineWidth",1),l=aQ()(r,"line.dashStyle",l7);return n.map(t=>{var n,o;let s=(0,aV.p)(),u=t.name||"",c=t.color||e(u),h=aQ()(t,"dashStyle",l);return{type:t.type,color:c,lineWidth:aQ()(t,"lineWidth",a),name:u,id:s,visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",i.enabled),symbol:function(t,e){var n;let r=(null===(n=t.legend)||void 0===n?void 0:n.symbol)||{},i=aQ()(e,"line.lineWidth",1);return{shape:"path",width:(null==r?void 0:r.width)||16,padding:(null==r?void 0:r.padding)||5,strokeWidth:aQ()(t,"lineWidth",i)}}(t,r)},data:t.data,dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,style:Object.assign({},lh,null===(o=t.dataLabels)||void 0===o?void 0:o.style),padding:aQ()(t,"dataLabels.padding",5),allowOverlap:aQ()(t,"dataLabels.allowOverlap",!1)},marker:function(t,e){var n;let r=aQ()(e,"line.states.hover"),i=Object.assign({},l8,null===(n=null==e?void 0:e.line)||void 0===n?void 0:n.marker,t.marker),a={enabled:!0,radius:i.radius,borderWidth:1,borderColor:"#ffffff",halo:ld};return{states:{normal:i,hover:lY()(a,null==r?void 0:r.marker)}}}(t,r),dashStyle:h,linecap:function(t,e,n){let r=t===p.Solid?m.Round:m.None,i=aQ()(n,"line.linecap",r);return aQ()(e,"linecap",i)}(h,t,r),opacity:aQ()(t,"opacity",null),cursor:aQ()(t,"cursor",null),yAxis:aQ()(t,"yAxis",0)}},[])}({series:n,seriesOptions:r,legend:i,colorScale:a});case"area":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t,a=aQ()(r,"area.lineWidth",1),l=aQ()(r,"area.opacity",.75);return n.map(t=>{var n,o;let s=(0,aV.p)(),u=t.name||"",c=t.color||e(u);return{type:t.type,color:c,opacity:aQ()(t,"opacity",l),lineWidth:aQ()(t,"lineWidth",a),name:u,id:s,visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",i.enabled),symbol:lm(t)},data:t.data,stacking:t.stacking,stackId:lv(t),dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,style:Object.assign({},lh,null===(o=t.dataLabels)||void 0===o?void 0:o.style),padding:aQ()(t,"dataLabels.padding",5),allowOverlap:aQ()(t,"dataLabels.allowOverlap",!1)},marker:function(t,e){var n;let r=aQ()(e,"area.states.hover"),i=Object.assign({},l1,null===(n=null==e?void 0:e.area)||void 0===n?void 0:n.marker,t.marker),a={enabled:!0,radius:i.radius,borderWidth:1,borderColor:"#ffffff",halo:ld};return{states:{normal:i,hover:lY()(a,null==r?void 0:r.marker)}}}(t,r),cursor:aQ()(t,"cursor",null),yAxis:aQ()(t,"yAxis",0)}},[])}({series:n,seriesOptions:r,legend:i,colorScale:a});case"treemap":return function(t){let{colorScale:e,legend:n,series:r}=t;return r.map(t=>{var r;let i=(0,aV.p)(),a=t.name||"";return{color:t.color||e(a),data:t.data,dataLabels:{enabled:aQ()(t,"dataLabels.enabled",!0),style:Object.assign({},lh,null===(r=t.dataLabels)||void 0===r?void 0:r.style),padding:aQ()(t,"dataLabels.padding",5),allowOverlap:aQ()(t,"dataLabels.allowOverlap",!1)},id:i,type:t.type,name:a,visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",n.enabled),symbol:lm(t)},levels:t.levels,layoutAlgorithm:aQ()(t,"layoutAlgorithm",y.Binary),cursor:aQ()(t,"cursor",null)}})}({series:n,seriesOptions:r,legend:i,colorScale:a});case"waterfall":return function(t){let{colorScale:e,series:n,legend:r}=t,[,i,a]=ll;return n.map(t=>{var n,l,o;let s=t.name||"",u=t.color||e(s);return{type:t.type,color:u,positiveColor:a,negativeColor:i,name:s,id:(0,aV.p)(),visible:aQ()(t,"visible",!0),legend:{enabled:aQ()(t,"legend.enabled",r.enabled),symbol:lm(t)},data:t.data,dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,style:Object.assign({},lh,null===(l=t.dataLabels)||void 0===l?void 0:l.style),allowOverlap:(null===(o=t.dataLabels)||void 0===o?void 0:o.allowOverlap)||!1,padding:aQ()(t,"dataLabels.padding",5)},cursor:aQ()(t,"cursor",null)}},[])}({series:n,legend:i,colorScale:a});default:throw new l0.Dx({message:'Series type "'.concat(e,'" does not support data preparation for series that do not support the presence of axes')})}}({type:r,series:i,seriesOptions:o,legend:s,colorScale:t})),e},[])},[l,o,s]),c=v.useMemo(()=>lQ(o),[o]),[h,d]=v.useState(lp(u)),f=v.useMemo(()=>u.map(t=>t.legend.enabled?Object.assign(Object.assign({},t),{visible:h.includes(t.name)}):t),[u,h]),{legendConfig:g,legendItems:b}=v.useMemo(()=>lZ({chartHeight:n,chartMargin:r,chartWidth:e,series:f,preparedLegend:s,preparedYAxis:a}),[e,n,r,f,s,a]),x=v.useCallback(t=>{let{name:e,metaKey:n}=t,r=lg(u),i=1===h.length&&h.includes(e);d(n&&h.includes(e)?h.filter(t=>t!==e):n&&!h.includes(e)?h.concat(e):i&&1===r.length?[]:i?r:[e])},[u,h]);return v.useEffect(()=>{d(lp(u))},[u]),{legendItems:b,legendConfig:g,preparedLegend:s,preparedSeries:f,preparedSeriesOptions:c,handleLegendItemClick:x}},oi=t=>{let{hasAxisRelatedSeries:e,preparedLegend:n,preparedXAxis:r}=t,i=0;return n.enabled&&(i+=n.height+n.margin),e&&(r.title.text&&(i+=r.title.height+r.title.margin),r.labels.enabled&&(i+=r.labels.margin+r.labels.height)),i},oa=t=>{let{margin:e,width:n,height:r,preparedLegend:i,preparedXAxis:a,preparedYAxis:l,preparedSeries:o}=t;return v.useMemo(()=>{let t=o.some(lA),s=lq({chartWidth:n,chartMargin:e,preparedYAxis:l}),u=oi({hasAxisRelatedSeries:t,preparedLegend:i,preparedXAxis:a});return{boundsWidth:s,boundsHeight:r-e.top-e.bottom-u}},[e,n,r,i,a,l,o])},ol={margin:10,padding:10,maxWidth:80},oo={text:"",margin:0,style:{fontSize:"14px"},align:"center",maxRowCount:1},os=Object.assign(Object.assign({},oo),{margin:4}),ou=Object.assign(Object.assign({},oo),{margin:8}),oc="linear";function oh(t){let e,{axis:n,range:r}=t;return n.ticks.pixelInterval&&(e=Math.ceil(r/n.ticks.pixelInterval)),e}function od(t,e){return"ticks"in t&&"function"==typeof t.ticks?t.ticks(e):t.domain()}function of(t){let{scale:e,count:n,maxCount:r}=t,i=od(e,n);if(i.length>r){let t=Math.ceil(i.length/r);i=i.filter((e,n)=>n%t==0)}return i}function op(t){let{axis:e,width:n}=t;return Math.floor(n/(parseInt(e.labels.style.fontSize)+e.labels.padding))}function og(t){let{split:e,boundsHeight:n}=t;return e.plots.length>1?e.plots[0].height:n}function om(t){let{axis:e,textMaxWidth:n}=t;return e.title.maxRowCount<1?[]:l6({text:e.title.text,style:e.title.style,width:n}).reduce((t,n,r)=>(r<e.title.maxRowCount?t.push(n):t[e.title.maxRowCount-1].text+=n.text,t),[])}let oy=t=>t.every(t=>"number"==typeof t||null===t),ov=t=>{let{axisDirection:e,categories:n,series:r}=t,i=new Set;return r.forEach(t=>{lA(t)&&t.data.forEach(t=>{i.add(lO({axisDirection:e,categories:n,data:t}))})}),n.filter(t=>i.has(t))};function ob(t,e,n){let r=aQ()(t,"type",oc),i=aQ()(t,"min"),a=aQ()(t,"categories"),l=aQ()(t,"timestamps");switch(r){case"linear":case"logarithmic":{let a=lT(e),l=[n,n*t.maxPadding];if(oy(a)){let[t,n]=E(a),o=n;return e.some(t=>lw.includes(t.type))&&(o=Math.max(o,0)),("logarithmic"===r?rm:rs)().domain(["number"==typeof i?i:t,o]).range(l).nice()}break}case"category":if(a){let t=ov({axisDirection:"y",categories:a,series:e});return nP().domain(t).range([n,0])}break;case"datetime":{let r=[n,n*t.maxPadding];if(l){let[t,e]=E(l);return ai().domain([t,e]).range(r).nice()}{let t=lT(e);if(oy(t)){let[e,n]=E(t);return ai().domain([e,n]).range(r).nice()}}}}throw Error("Failed to create yScale")}function ox(t,e,n){let r;let i=aQ()(t,"min"),a=function(t){if(t.some(t=>"bar-y"===t.type))return 0}(e),l=aQ()(t,"type",oc),o=aQ()(t,"categories"),s=aQ()(t,"timestamps"),u=n*aQ()(t,"maxPadding",0)+(r=0,e.forEach(t=>{if("bar-y"===t.type&&!aQ()(t,"dataLabels.inside")){let e=aQ()(t,"dataLabels.maxWidth",0);r=Math.max(r,e)}}),r),c=[0,n-u];switch(l){case"linear":case"logarithmic":{let t=lD(e);if(oy(t)){let[e,n]=E(t);return("logarithmic"===l?rm:rs)().domain(["number"==typeof i?i:e,"number"==typeof a?Math.max(a,n):n]).range(c).nice()}break}case"category":if(o){let t=ov({axisDirection:"x",categories:o,series:e}),r=nP().domain(t).range([0,n]);return r.step()/2<u&&r.range(c),r}break;case"datetime":if(s){let[t,e]=E(s);return ai().domain([t,e]).range(c).nice()}{let t=lD(e);if(oy(t)){let[e,n]=E(t);return ai().domain([e,n]).range(c).nice()}}}throw Error("Failed to create xScale")}let o_=t=>{let{boundsWidth:e,boundsHeight:n,series:r,xAxis:i,yAxis:a,split:l}=t,o=lN(r);return{xScale:ox(i,o=0===o.length?r:o,e),yScale:a.map((t,e)=>{let i=r.filter(t=>aQ()(t,"yAxis",0)===e),a=lN(i),o=og({boundsHeight:n,split:l});return ob(t,a.length?a:i,o)})}},ow=t=>{let{boundsWidth:e,boundsHeight:n,series:r,xAxis:i,yAxis:a,split:l}=t;return v.useMemo(()=>{let t,o;return r.some(lA)&&({xScale:t,yScale:o}=o_({boundsWidth:e,boundsHeight:n,series:r,xAxis:i,yAxis:a,split:l})),{xScale:t,yScale:o}},[e,n,r,i,a,l])};var oM=n(89734),oA=n.n(oM);function ok(t){switch(t.textAnchor){case"start":default:return t.x;case"middle":return t.x-t.size.width/2;case"end":return t.x-t.size.width}}function oS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!!(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ok(t),i=r+t.size.width,a=ok(e);return Math.max(0,Math.min(i,a+e.size.width)-Math.max(r,a)+n)}(t,e,n)&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.y-t.size.height,i=t.y,a=e.y-e.size.height;return Math.max(0,Math.min(i,e.y)-Math.max(r,a)+n)}(t,e,n))}function oE(t){let e=[];return oA()(t,t=>t.y,ok).forEach(t=>{e.some(e=>oS(t,e))||e.push(t)}),e}let oD=(0,aK.G)("d3-marker"),oT=oD("halo"),oC=oD("symbol");function oN(t){let e=t.attr("class",oD("wrapper")).attr("visibility",oL).attr("transform",t=>"translate(".concat(t.point.x,",").concat(t.point.y,")"));return e.append("path").attr("class",oT).attr("d",t=>{let e=t.point.series;return oz(e.marker.states.normal.symbol,aQ()(t.point.data,"radius",e.marker.states.hover.radius)+e.marker.states.hover.halo.size)}).attr("fill",t=>t.point.series.color).attr("opacity",t=>t.point.series.marker.states.hover.halo.opacity).attr("z-index",-1).attr("visibility",oI),e.append("path").attr("class",oC).call(o$,"normal").attr("fill",t=>t.point.series.color),e}function oL(t){let e=t.point.series.marker.states;return(t.hovered?e.hover.enabled&&t.hovered:e.normal.enabled||aQ()(t.point.data,"marker.states.normal.enabled",!1))?"":"hidden"}function oI(t){return t.point.series.marker.states.hover.halo.enabled&&t.hovered?"":"hidden"}function o$(t,e){t.attr("d",t=>{let n=t.point.series;return oz(n.marker.states.normal.symbol,aQ()(t.point.data,"radius",n.marker.states[e].radius)+n.marker.states[e].borderWidth)}).attr("stroke-width",t=>t.point.series.marker.states[e].borderWidth).attr("stroke",t=>t.point.series.marker.states[e].borderColor)}function oz(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.Circle,e=arguments.length>1?arguments[1]:void 0;return aF(on(t),Math.pow(e,2)*Math.PI)()}function oO(t){return t.select(".".concat(oT))}function oj(t){return t.select(".".concat(oC))}function oR(t){let{point:e,xAxis:n,xScale:r}=t;return"category"===n.type?(r(lO({axisDirection:"x",categories:aQ()(n,"categories",[]),data:e}))||0)+r.step()/2:r(e.x)}function oF(t){let{point:e,yAxis:n,yScale:r}=t;return"category"===n.type?(r(lO({axisDirection:"y",categories:aQ()(n,"categories",[]),data:e}))||0)+r.step()/2:r(e.y)}let oW=t=>t.id||-1;function oH(t){let{element:e,datum:n,state:r,active:i}=t,a=aa(e);if(n.active!==i){n.active=i;let t=n.active?null:null==r?void 0:r.opacity;a.attr("opacity",t||null)}return n}let oU=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",").map(t=>"".concat(parseInt(t,10)*e)).join(",").replace(/NaN/g,"none")},oP=(0,aK.G)("d3-area"),oY=t=>{let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{var t;if(!i.current)return()=>{};let a=aa(i.current),l=aQ()(r,"area.states.hover"),o=aQ()(r,"area.states.inactive"),s=aN().x(t=>t.x).y(t=>t.y);a.selectAll("*").remove();let u=a.selectAll("shape").data(n).join("g").attr("class",oP("series")).attr("cursor",t=>t.series.cursor);u.append("path").attr("class",oP("line")).attr("d",t=>s(t.points)).attr("fill","none").attr("stroke",t=>t.color).attr("stroke-width",t=>t.width).attr("stroke-linejoin","round").attr("stroke-linecap","round");let c=(function(t,e,n){var r=null,i=al(!0),a=null,l=aD,o=null,s=av(u);function u(u){var c,h,d,f,p,g=(u=aS(u)).length,m=!1,y=Array(g),v=Array(g);for(null==a&&(o=l(p=s())),c=0;c<=g;++c){if(!(c<g&&i(f=u[c],c,u))===m){if(m=!m)h=c,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),d=c-1;d>=h;--d)o.point(y[d],v[d]);o.lineEnd(),o.areaEnd()}}m&&(y[c]=+t(f,c,u),v[c]=+e(f,c,u),o.point(r?+r(f,c,u):y[c],n?+n(f,c,u):v[c]))}if(p)return o=null,p+""||null}function c(){return aN().defined(i).curve(l).context(a)}return t="function"==typeof t?t:void 0===t?aT:al(+t),e="function"==typeof e?e:void 0===e?al(0):al(+e),n="function"==typeof n?n:void 0===n?aC:al(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:al(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:al(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:al(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:al(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:al(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:al(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:al(!!t),u):i},u.curve=function(t){return arguments.length?(l=t,null!=a&&(o=l(a)),u):l},u.context=function(t){return arguments.length?(null==t?a=o=null:o=l(a=t),u):a},u})().x(t=>t.x).y0(t=>t.y0).y1(t=>t.y);u.append("path").attr("class",oP("region")).attr("d",t=>c(t.points)).attr("fill",t=>t.color).attr("opacity",t=>t.opacity);let h=n.reduce((t,e)=>t.concat(e.labels),[]);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(h=oE(h));let d=a.selectAll("text").data(h).join("text").text(t=>t.text).attr("class",oP("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null),f=n.reduce((t,e)=>t.concat(e.markers),[]),p=a.selectAll("marker").data(f).join("g").call(oN),g=null==l?void 0:l.enabled,m=null==o?void 0:o.enabled;return e.on("hover-shape.area",t=>{let e=(null==t?void 0:t.filter(t=>"area"===t.series.type))||[],n=e.map(t=>t.data),r=e.map(t=>{var e;return null===(e=t.series)||void 0===e?void 0:e.id});u.datum((t,e,n)=>{var i;let a=aa(n[e]),s=!!(g&&r.includes(t.id));if(t.hovered!==s){t.hovered=s;let e=t.color||"";t.hovered&&(e=(null===(i=em(e))||void 0===i?void 0:i.brighter(null==l?void 0:l.brightness).toString())||e),a.selectAll(".".concat(oP("line"))).attr("stroke",e),a.selectAll(".".concat(oP("region"))).attr("fill",e)}return oH({element:n[e],state:o,active:!!(!m||!r.length||r.includes(t.id)),datum:t})}),d.datum((t,e,n)=>oH({element:n[e],state:o,active:!!(!m||!r.length||r.includes(t.series.id)),datum:t})),p.datum((t,e,i)=>{let a=aa(i[e]),l=!!(g&&n.includes(t.point.data));if(t.hovered!==l&&(t.hovered=l,a.attr("visibility",oL(t)),oO(a).attr("visibility",oI),oj(a).call(o$,l?"hover":"normal")),t.point.series.marker.states.normal.enabled){let n=!!(!m||!r.length||r.includes(t.point.series.id));oH({element:i[e],state:o,active:n,datum:t})}return t})}),()=>{e.on("hover-shape.area",null)}},[e,n,r]),v.createElement("g",{ref:i,className:oP()})},oB=t=>{let{series:e,xAxis:n,xScale:r,yAxis:i,yScale:a,boundsHeight:l}=t,[o,s]=r.range(),u=s/(1-n.maxPadding);return Array.from(L(e,t=>t.stackId)).reduce((t,o)=>{let[s,c]=o,h=function(t,e,n){let r=e.categories||[],i=t.reduce((t,i)=>(i.data.forEach(i=>{let a=String("category"===e.type?lO({axisDirection:"x",categories:r,data:i}):i.x);t.has(a)||t.set(a,oR({point:i,xAxis:e,xScale:n}))}),t),new Map);return"category"===e.type?r.reduce((t,e)=>{let n=i.get(e);return"number"==typeof n&&t.push([e,n]),t},[]):$(Array.from(i),t=>{let[e,n]=t;return n})}(c,n,r),d=new Map;h.forEach(t=>{let[e]=t;d.set(e,0)});let f=c.reduce((t,e)=>{let r=e.yAxis,l=i[r],o=a[r],s=oF({point:{y:0},yAxis:l,yScale:o}),c=e.data.reduce((t,e)=>{let r=String("category"===n.type?lO({axisDirection:"x",categories:n.categories||[],data:e}):e.x);return t.set(r,e)},new Map),f=h.reduce((t,n)=>{let[r,i]=n,a=d.get(r)||0,u=c.get(r)||{x:r,y:0},h=oF({point:u,yAxis:l,yScale:o})-a;return d.set(r,s-h),t.push({y0:s-a,x:i,y:h,data:u,series:e}),t},[]),p=[];e.dataLabels.enabled&&(p=f.map(t=>(function(t,e,n){let r=String(t.data.label||t.data.y),i=e.dataLabels.style,a=l5({labels:[r],style:i}),l={text:r,x:t.x,y:t.y-e.dataLabels.padding,style:i,size:{width:a.maxWidth,height:a.maxHeight},textAnchor:"middle",series:e,active:!0},o=ok(l);if(o<0)l.x=l.x+Math.abs(o);else{let t=o+l.size.width;t>n&&(l.x=l.x-n-t)}return l})(t,e,u)));let g=[];return(e.marker.states.normal.enabled||e.marker.states.hover.enabled)&&(g=f.map(t=>({point:t,active:!0,hovered:!1}))),t.push({points:f,markers:g,labels:p,color:e.color,opacity:e.opacity,width:e.lineWidth,series:e,hovered:!1,active:!0,id:e.id}),t},[]);return e.some(t=>"percent"===t.stacking)&&h.forEach((t,e)=>{let[n]=t,r=d.get(n)||0,i=0,a=l/r;f.forEach(t=>{let n=t.points[e];if(n){let t=(n.y0-n.y)*a;n.y0=l-t-i,n.y=n.y0+t,i+=t}})}),t.concat(f)},[])},oq=t=>{let{series:e,seriesOptions:n,xAxis:r,xScale:i,yScale:a,boundsHeight:l}=t,o=aQ()(r,"categories",[]),s=aQ()(n,"bar-x.barMaxWidth"),u=aQ()(n,"bar-x.barPadding"),c=aQ()(n,"bar-x.groupPadding"),h=aQ()(n,"bar-x.dataSorting"),d=(null==h?void 0:h.direction)==="desc"?A:M,f=(()=>{switch(null==h?void 0:h.key){case"y":return"data.y";case"name":return"series.name";default:return}})(),p={};e.forEach(t=>{t.data.forEach(e=>{let n="category"===r.type?lO({axisDirection:"x",categories:o,data:e}):e.x;if(n){p[n]||(p[n]={});let r=p[n];r[t.stackId]||(r[t.stackId]=[]),r[t.stackId].push({data:e,series:t})}})});let g=1/0;if("category"===r.type)g=i.bandwidth();else{let t=e.reduce((t,e)=>(e.data.forEach(e=>t.push(Number(e.x))),t),[]);t.sort().forEach((e,n)=>{if(n>0&&e!==t[n-1]){let r=i(e)-i(t[n-1]);r<g&&(g=r)}})}let m=I(Object.values(p),t=>Object.values(t).length)||1,y=Math.max(g*c,1),v=g-y,b=Math.max(g*u,1),x=Math.max(1,Math.min(v/m-b,s)),_=[];return Object.entries(p).forEach(t=>{let[n,o]=t,s=Object.values(o),u=x*s.length+b*(s.length-1);s.forEach((t,o)=>{let s=0,c=[];if((f?$(t,(t,e)=>d(aQ()(t,f),aQ()(e,f))):t).forEach(t=>{let e=a[t.series.yAxis],l=("category"===r.type?(i(n)||0)+i.bandwidth()/2:i(Number(n)))-u/2+(x+b)*o,h=t.data.y,d=e(h),f=e(0),p=h>0?f-d:d-f,g={x:l,y:h>0?d-s:e(0),width:x,height:p,opacity:aQ()(t.data,"opacity",null),data:t.data,series:t.series};g.label=function(t){if(!t.series.dataLabels.enabled)return;let e=String(t.data.label||t.data.y),n=t.series.dataLabels.style,{maxHeight:r,maxWidth:i}=l5({labels:[e],style:n}),a=Math.max(r,t.y-t.series.dataLabels.padding);return t.series.dataLabels.inside&&(a=t.y+t.height/2),{text:e,x:t.x+t.width/2,y:a,style:n,size:{width:i,height:r},textAnchor:"middle",series:t.series}}(g),c.push(g),s+=p+1}),e.some(t=>"percent"===t.stacking)){let t=0,e=l/(s-c.length);c.forEach(n=>{n.height=n.height*e,n.y=l-n.height-t,t+=n.height+1})}_.push(...c)})}),_},oV=(0,aK.G)("d3-bar-x"),oX=t=>{let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{var t;if(!i.current)return()=>{};let a=aa(i.current),l=aQ()(r,"bar-x.states.hover"),o=aQ()(r,"bar-x.states.inactive");a.selectAll("*").remove();let s=a.selectAll("allRects").data(n).join("rect").attr("class",oV("segment")).attr("x",t=>t.x).attr("y",t=>t.y).attr("height",t=>t.height).attr("width",t=>t.width).attr("fill",t=>t.data.color||t.series.color).attr("opacity",t=>t.opacity).attr("cursor",t=>t.series.cursor),u=n.map(t=>t.label).filter(Boolean);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(u=oE(u));let c=a.selectAll("text").data(u).join("text").text(t=>t.text).attr("class",oV("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null);return e.on("hover-shape.bar-x",t=>{let e=null==l?void 0:l.enabled,n=null==o?void 0:o.enabled;if(!t){e&&s.attr("fill",t=>t.data.color||t.series.color),n&&(s.attr("opacity",null),c.attr("opacity",null));return}if(e){let e=t.map(t=>t.data.x);s.attr("fill",t=>{var n;let r=t.data.color||t.series.color;return e.includes(t.data.x)&&(null===(n=em(r))||void 0===n?void 0:n.brighter(null==l?void 0:l.brightness).toString())||r})}if(n){let e=t.map(t=>t.series.id);s.attr("opacity",t=>e.includes(t.series.id)?null:(null==o?void 0:o.opacity)||null),c.attr("opacity",t=>e.includes(t.series.id)?null:(null==o?void 0:o.opacity)||null)}}),()=>{e.on("hover-shape.bar-x",null)}},[e,n,r]),v.createElement("g",{ref:i,className:oV()})},oG=t=>{let{series:e,seriesOptions:n,yAxis:r,xScale:i,yScale:[a]}=t,l=i(i.domain()[1]),o=aQ()(n,"bar-y.barMaxWidth"),s=aQ()(n,"bar-y.barPadding"),u=aQ()(n,"bar-y.groupPadding"),c=aQ()(n,"bar-y.dataSorting"),h=(null==c?void 0:c.direction)==="desc"?A:M,d=(()=>{switch(null==c?void 0:c.key){case"x":return"data.x";case"name":return"series.name";default:return}})(),f=function(t,e){let n={};return t.forEach(t=>{t.data.forEach(r=>{let i=e[aQ()(t,"yAxis",0)],a=aQ()(i,"categories",[]),l="category"===i.type?lO({axisDirection:"y",categories:a,data:r}):r.y;l&&(n[l]||(n[l]={}),n[l][t.stackId]||(n[l][t.stackId]=[]),n[l][t.stackId].push({data:r,series:t}))})}),n}(e,r),p=function(t,e,n){let r=1/0;if("category"===e[0].type)r=n.bandwidth();else{let e=t.reduce((t,e)=>(e.data.forEach(e=>t.push(Number(e.y))),t),[]);e.sort().forEach((t,i)=>{if(i>0&&t!==e[i-1]){let a=n(t)-n(e[i-1]);a<r&&(r=a)}})}return r}(e,r,a),g=I(Object.values(f),t=>Object.values(t).length)||1,m=Math.max(p*s,1),y=Math.max(1,Math.min((p-Math.max(p*u,1))/g-m,o)),v=[];return Object.entries(f).forEach(t=>{let[n,o]=t,s=Object.values(o),u=y*s.length+m*(s.length-1);s.forEach((t,o)=>{let s=i(0),c=s,f=[];if((d?$(t,(t,e)=>h(aQ()(t,d),aQ()(e,d))):t).forEach(t=>{let{data:e,series:l}=t,h=("category"===r[0].type?(a(n)||0)+p/2:a(Number(n)))-u/2+(y+m)*o,d=Number(e.x),g=d>0?i(d)-s:s-i(d);f.push({x:d>0?c:c-g,y:h,width:g,height:y,color:e.color||l.color,opacity:aQ()(e,"opacity",null),data:e,series:l}),c+=g+1}),e.some(t=>"percent"===t.stacking)){let t=0,e=l/(c-f.length);f.forEach(n=>{n.width=n.width*e,n.x=t,t+=n.width})}v.push(...f)})}),v},oK=(0,aK.G)("d3-bar-y"),oZ=t=>{let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{if(!i.current)return()=>{};let t=aa(i.current);t.selectAll("*").remove();let a=t.selectAll("rect").data(n).join("rect").attr("class",oK("segment")).attr("x",t=>t.x).attr("y",t=>t.y).attr("height",t=>t.height).attr("width",t=>t.width).attr("fill",t=>t.color).attr("opacity",t=>t.data.opacity||null).attr("cursor",t=>t.series.cursor),l=n.filter(t=>t.series.dataLabels.enabled),o=t.selectAll("text").data(l).join("text").text(t=>String(t.data.label||t.data.x)).attr("class",oK("label")).attr("x",t=>t.series.dataLabels.inside?t.x+t.width/2:t.x+t.width+7).attr("y",t=>t.y+t.height/2+t.series.dataLabels.maxHeight/2).attr("text-anchor",t=>t.series.dataLabels.inside?"middle":"right").style("font-size",t=>t.series.dataLabels.style.fontSize).style("font-weight",t=>t.series.dataLabels.style.fontWeight||null).style("fill",t=>t.series.dataLabels.style.fontColor||null),s=aQ()(r,"bar-y.states.hover"),u=aQ()(r,"bar-y.states.inactive");return e.on("hover-shape.bar-y",t=>{if(null==s?void 0:s.enabled){let e=null==t?void 0:t.reduce((t,e)=>(t.add(e.data.y),t),new Set);a.attr("fill",t=>{var n;let r=t.color;return(null==e?void 0:e.has(t.data.y))&&(null===(n=em(r))||void 0===n?void 0:n.brighter(s.brightness).toString())||r})}if(null==u?void 0:u.enabled){let e=null==t?void 0:t.map(t=>t.series.id),n=t=>(null==e?void 0:e.length)&&!e.includes(t.series.id)&&u.opacity||null;a.attr("opacity",n),o.attr("opacity",n)}}),()=>{e.on("hover-shape.bar-y",null)}},[e,n,r]),v.createElement("g",{ref:i,className:oK()})},oJ=(0,aK.G)("d3-line"),oQ=t=>{let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{var t;if(!i.current)return()=>{};let a=aa(i.current),l=aQ()(r,"line.states.hover"),o=aQ()(r,"line.states.inactive"),s=aN().x(t=>t.x).y(t=>t.y);a.selectAll("*").remove();let u=a.selectAll("path").data(n).join("path").attr("d",t=>s(t.points)).attr("fill","none").attr("stroke",t=>t.color).attr("stroke-width",t=>t.width).attr("stroke-linejoin",t=>t.linecap).attr("stroke-linecap",t=>t.linecap).attr("stroke-dasharray",t=>oU(t.dashStyle,t.width)).attr("opacity",t=>t.opacity).attr("cursor",t=>t.series.cursor),c=n.reduce((t,e)=>t.concat(e.labels),[]);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(c=oE(c));let h=a.selectAll("text").data(c).join("text").text(t=>t.text).attr("class",oJ("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null),d=n.reduce((t,e)=>t.concat(e.markers),[]),f=a.selectAll("marker").data(d).join("g").call(oN),p=null==l?void 0:l.enabled,g=null==o?void 0:o.enabled;return e.on("hover-shape.line",t=>{let e=(null==t?void 0:t.filter(t=>"line"===t.series.type))||[],n=e.map(t=>t.data),r=e.map(t=>{var e;return null===(e=t.series)||void 0===e?void 0:e.id});u.datum((t,e,n)=>{let i=aa(n[e]),a=!!(p&&r.includes(t.id));return t.hovered!==a&&(t.hovered=a,i.attr("stroke",t=>{var e;let n=t.color||"";return t.hovered&&(null===(e=em(n))||void 0===e?void 0:e.brighter(null==l?void 0:l.brightness).toString())||n})),oH({element:n[e],state:o,active:!!(!g||!r.length||r.includes(t.id)),datum:t})}),h.datum((t,e,n)=>oH({element:n[e],state:o,active:!!(!g||!r.length||r.includes(t.series.id)),datum:t})),f.datum((t,e,i)=>{let a=aa(i[e]),l=!!(p&&n.includes(t.point.data));if(t.hovered!==l&&(t.hovered=l,a.attr("visibility",oL(t)),oO(a).attr("visibility",oI),oj(a).call(o$,l?"hover":"normal")),t.point.series.marker.states.normal.enabled){let n=!!(!g||!r.length||r.includes(t.point.series.id));oH({element:i[e],state:o,active:n,datum:t})}return t})}),()=>{e.on("hover-shape.line",null)}},[e,n,r]),v.createElement("g",{ref:i,className:oJ()})},o0=t=>{let{series:e,xAxis:n,yAxis:r,xScale:i,yScale:a,split:l}=t,[o,s]=i.range(),u=s/(1-n.maxPadding);return e.reduce((t,e)=>{var o;let s=r[e.yAxis],c=(null===(o=l.plots[s.plotIndex])||void 0===o?void 0:o.top)||0,h=a[e.yAxis],d=e.data.map(t=>({x:oR({point:t,xAxis:n,xScale:i}),y:c+oF({point:t,yAxis:s,yScale:h}),active:!0,data:t,series:e})),f=[];e.dataLabels.enabled&&(f=d.map(t=>(function(t,e,n){let r=String(t.data.label||t.data.y),i=e.dataLabels.style,a=l5({labels:[r],style:i}),l={text:r,x:t.x,y:t.y-e.dataLabels.padding,style:i,size:{width:a.maxWidth,height:a.maxHeight},textAnchor:"middle",series:e,active:!0},o=ok(l);if(o<0)l.x=l.x+Math.abs(o);else{let t=o+l.size.width;t>n&&(l.x=l.x-n-t)}return l})(t,e,u)));let p=[];(e.marker.states.normal.enabled||e.marker.states.hover.enabled)&&(p=d.map(t=>({point:t,active:!0,hovered:!1})));let g={points:d,markers:p,labels:f,color:e.color,width:e.lineWidth,series:e,hovered:!1,active:!0,id:e.id,dashStyle:e.dashStyle,linecap:e.linecap,opacity:e.opacity};return t.push(g),t},[])},o1=(function(){var t=aI,e=aL,n=null,r=al(0),i=al(am),a=al(0);function l(l){var o,s,u,c,h,d=(l=aS(l)).length,f=0,p=Array(d),g=Array(d),m=+r.apply(this,arguments),y=Math.min(am,Math.max(-am,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),b=v*(y<0?-1:1);for(o=0;o<d;++o)(h=g[p[o]=o]=+t(l[o],o,l))>0&&(f+=h);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(l[t],l[e])}),o=0,u=f?(y-d*b)/f:0;o<d;++o,m=c)c=m+((h=g[s=p[o]])>0?h*u:0)+b,g[s]={data:l[s],index:o,value:h,startAngle:m,endAngle:c,padAngle:v};return g}return l.value=function(e){return arguments.length?(t="function"==typeof e?e:al(+e),l):t},l.sortValues=function(t){return arguments.length?(e=t,n=null,l):e},l.sort=function(t){return arguments.length?(n=t,e=null,l):n},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:al(+t),l):r},l.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:al(+t),l):i},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:al(+t),l):a},l})().value(t=>t.value).sort(null),o2=(0,aK.G)("d3-pie");function o3(t){return t.data.pie.halo.enabled&&t.data.hovered?"":"hidden"}function o4(t){let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{if(!i.current)return()=>{};let t=aa(i.current);t.selectAll("*").remove();let a=".".concat(o2("segment")),l=".".concat(o2("connector")),o=t.selectAll("pie").data(n).join("g").attr("id",t=>t.id).attr("class",o2("item")).attr("transform",t=>{let[e,n]=t.center;return"translate(".concat(e,", ").concat(n,")")}).style("stroke",t=>t.borderColor).style("stroke-width",t=>t.borderWidth).attr("cursor",t=>t.series.cursor);o.selectAll("halo").data(t=>t.halo.enabled?t.segments:[]).join("path").attr("d",t=>ak().innerRadius(t.data.pie.innerRadius).outerRadius(t.data.pie.radius+t.data.pie.halo.size).cornerRadius(t.data.pie.borderRadius)(t)).attr("class",o2("halo")).attr("fill",t=>t.data.color).attr("opacity",t=>t.data.pie.halo.opacity).attr("z-index",-1).attr("visibility",o3),o.selectAll(a).data(t=>t.segments).join("path").attr("d",t=>ak().innerRadius(t.data.pie.innerRadius).outerRadius(t.data.pie.radius).cornerRadius(t.data.pie.borderRadius)(t)).attr("class",o2("segment")).attr("fill",t=>t.data.color).attr("opacity",t=>t.data.opacity),o.selectAll("text").data(t=>t.labels).join("text").text(t=>t.text).attr("class",o2("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null).call(l4,t=>t.size.width>t.maxWidth?t.maxWidth:1/0),o.selectAll(l).data(t=>t.labels).enter().append("path").attr("class",o2("connector")).attr("d",t=>{let e=aN(),n=function(t){switch(t.connectorCurve){case"basic":return aU;case"linear":return aD}}(t.segment.pie);return n&&(e=e.curve(n)),e(t.connector.points)}).attr("stroke",t=>t.connector.color).attr("stroke-width",1).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none"),o.each(function(t,e,n){var r,i;let a=null===(i=(r=t.series).renderCustomShape)||void 0===i?void 0:i.call(r,{series:{innerRadius:t.innerRadius}});a&&n[e].append(a)});let s=t=>{let e=aa(t).datum(),r=aQ()(e,"data.series.id",aQ()(e,"series.id"));return n.reduce((t,e)=>{var n;return t||(null===(n=e.segments.find(t=>t.data.series.id===r))||void 0===n?void 0:n.data)},void 0)},u="hover-shape.pie",c=aQ()(r,"pie.states.hover"),h=aQ()(r,"pie.states.inactive");return t.on("click",t=>{let n=s(t.target);n&&e.call("click-chart",void 0,{point:n.series.data,series:n.series},t)}),e.on(u,t=>{var e,n;let r=null===(n=null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.series)||void 0===n?void 0:n.id,i=null==c?void 0:c.enabled,s=null==h?void 0:h.enabled;o.datum((t,e,n)=>{let o=aa(n[e]),u=o.selectAll(".".concat(o2("halo")));o.selectAll(a).datum((t,e,n)=>{let a=!!(i&&t.data.series.id===r);return t.data.hovered!==a&&(t.data.hovered=a,aa(n[e]).attr("fill",()=>{var e;let n=t.data.color;return t.data.hovered&&(null===(e=em(n))||void 0===e?void 0:e.brighter(null==c?void 0:c.brightness).toString())||n}),aa(u.nodes()[e]).attr("visibility",o3)),oH({element:n[e],state:h,active:!!(!s||!r||r===t.data.series.id),datum:t.data}),t});let d=o.selectAll("tspan"),f=o.selectAll(l);d.merge(f).datum((t,e,n)=>oH({element:n[e],state:h,active:!!(!s||!r||r===t.series.id),datum:t}))})}),()=>{e.on(u,null)}},[e,n,r]),v.createElement("g",{ref:i,className:o2(),style:{zIndex:9}})}let o5=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.endsWith("%")&&!Number.isNaN(Number.parseFloat(t))},o6=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.endsWith("px")&&!Number.isNaN(Number.parseFloat(t))},o7=t=>{let{value:e="",base:n}=t;if(!a5()(e))return"string"==typeof e?o5(e)&&"number"==typeof n?Number.parseFloat(e)/100*n:o6(e)?Number.parseFloat(e):void 0:e};function o8(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,e);return Math.floor(Math.cos(Math.PI/180*t)*n)/n}function o9(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,e);return Math.floor(Math.sin(Math.PI/180*t)*n)/n}let st=2*Math.PI,se=(t,e,n)=>{var r,i;let a=.5*t,l=.5*e;if(!n)return[a,l];let[o,s]=n;return[null!==(r=o7({value:o,base:t}))&&void 0!==r?r:a,null!==(i=o7({value:s,base:e}))&&void 0!==i?i:l]},sn=t=>t.filter(t=>"number"==typeof t.x&&"number"==typeof t.y),sr=t=>{let{series:e,xAxis:n,xScale:r,yAxis:i,yScale:a}=t;return e.reduce((t,e)=>{let l=aQ()(e,"yAxis",0),o=i[l],s=a[l];return("category"===n.type||"category"===o.type?e.data:sn(e.data)).forEach(i=>{t.push({point:{data:i,series:e,x:oR({point:i,xAxis:n,xScale:r}),y:oF({point:i,yAxis:o,yScale:s}),opacity:aQ()(i,"opacity",null)},hovered:!1,active:!0})}),t},[])},si=(0,aK.G)("d3-scatter");function sa(t){let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{if(!i.current)return()=>{};let t=aa(i.current),a=aQ()(r,"scatter.states.hover"),l=aQ()(r,"scatter.states.inactive");t.selectAll("*").remove();let o=t.selectAll("path").data(n,oW).join("g").call(oN).attr("fill",t=>t.point.data.color||t.point.series.color||"").attr("opacity",t=>t.point.opacity).attr("cursor",t=>t.point.series.cursor),s=t=>aa(t).datum();t.on("click",t=>{let n=s(t.target);n&&e.call("click-chart",void 0,{point:n.point.data,series:n.point.series},t)});let u=null==a?void 0:a.enabled,c=null==l?void 0:l.enabled;return e.on("hover-shape.scatter",t=>{var e;let n=null==t?void 0:t.find(t=>"scatter"===t.series.type),r=null==n?void 0:n.data,i=null===(e=null==n?void 0:n.series)||void 0===e?void 0:e.id;o.datum((t,e,n)=>{let a=aa(n[e]),o=!!(u&&t.point.data===r);if(t.hovered!==o&&(t.hovered=o,a.attr("z-index",o?999:null),oO(a).attr("visibility",oI),oj(a).call(o$,o?"hover":"normal")),o&&a.raise(),t.point.series.marker.states.normal.enabled){let r=!!(!c||!i||i===t.point.series.id);oH({element:n[e],state:l,active:r,datum:t})}return t})}),()=>{e.on("hover-shape.scatter",null)}},[e,n,r]),v.createElement("g",{ref:i,className:si()})}let sl=(0,aK.G)("d3-treemap"),so=t=>{let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null);return v.useEffect(()=>{if(!i.current)return()=>{};let t=aa(i.current);t.selectAll("*").remove();let{labelData:a,leaves:l,series:o}=n,s=t.selectAll("g").data(l).join("g").attr("transform",t=>"translate(".concat(t.x0,",").concat(t.y0,")")).attr("cursor",o.cursor).append("rect").attr("id",t=>t.id||t.name).attr("fill",t=>{var e;if(t.data.color)return t.data.color;let n=null===(e=o.levels)||void 0===e?void 0:e.find(e=>e.index===t.depth);return(null==n?void 0:n.color)||o.color}).attr("width",t=>t.x1-t.x0).attr("height",t=>t.y1-t.y0),u=t.selectAll("tspan").data(a).join("text").text(t=>t.text).attr("class",sl("label")).attr("x",t=>t.x).attr("y",t=>t.y).style("font-size",()=>o.dataLabels.style.fontSize).style("font-weight",()=>{var t;return(null===(t=o.dataLabels.style)||void 0===t?void 0:t.fontWeight)||null}).style("fill",()=>{var t;return(null===(t=o.dataLabels.style)||void 0===t?void 0:t.fontColor)||null}).call(l4,t=>t.width),c=t=>aa(t).datum(),h="hover-shape.treemap",d=aQ()(r,"treemap.states.hover"),f=aQ()(r,"treemap.states.inactive");return t.on("click",t=>{let n=c(t.target);e.call("click-chart",void 0,{point:n.data,series:o},t)}),e.on(h,t=>{var e;let n=null==d?void 0:d.enabled,r=null==f?void 0:f.enabled,i=null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.data;s.datum((t,e,a)=>{let l=aa(a[e]),s=!!(n&&i===t.data),u=!!(r&&i&&!s);return l.attr("fill",e=>{var n,r;let i=null===(n=o.levels)||void 0===n?void 0:n.find(t=>t.index===e.depth),a=(null==i?void 0:i.color)||t.data.color||o.color;return s&&(null===(r=em(a))||void 0===r?void 0:r.brighter(null==d?void 0:d.brightness).toString())||a}).attr("opacity",()=>u&&(null==f?void 0:f.opacity)||null),t}),u.datum((t,e,a)=>{let l=aa(a[e]),o=!!(n&&i===t.nodeData),s=!!(r&&i&&!o);return l.attr("opacity",()=>s&&(null==f?void 0:f.opacity)||null),t})}),()=>{e.on(h,null)}},[e,n,r]),v.createElement("g",{ref:i,className:sl()})},ss=t=>{let{series:e,seriesOptions:n,xAxis:r,xScale:i,yAxis:[a],yScale:[l]}=t,o=l(l.domain()[0]),s=aQ()(n,"waterfall.barMaxWidth"),u=aQ()(n,"waterfall.barPadding"),c=e.reduce((t,e)=>(t.push(...e.data.map(t=>({data:t,series:e}))),t),[]),h=oA()(c,t=>t.data.x),d=function(t){let{series:e,xAxis:n,xScale:r}=t;if("category"===n.type)return r.bandwidth();let i=e.reduce((t,e)=>(e.data.forEach(e=>t.push(Number(e.x))),t),[]),a=1/0;return i.sort().forEach((t,e)=>{if(e>0&&t!==i[e-1]){let n=r(t)-r(i[e-1]);n<a&&(a=n)}}),a}({series:e,xAxis:r,xScale:i}),f=Math.max(1,Math.min(d-Math.max(d*u,1),s)),p=oF({point:{y:0},yScale:l,yAxis:a}),g=0,m=[];return h.forEach((t,e)=>{if("number"!=typeof t.data.y&&!t.data.total)return;t.data.total||(g+=Number(t.data.y));let n=m[m.length-1],s=oR({point:t.data,xAxis:r,xScale:i}),u=Number(t.data.total?g:t.data.y),c=p-oF({point:{y:Math.abs(u)},yScale:l,yAxis:a}),h={x:s-f/2,y:!n||t.data.total?oF({point:{y:u>0?u:0},yScale:l,yAxis:a}):0>Number(n.data.y)?Number(t.data.y)>0?n.y+n.height-c:n.y+n.height:0>Number(t.data.y)?n.y:n.y-c,width:f,height:c,opacity:aQ()(t.data,"opacity",null),data:t.data,series:t.series,subTotal:g};h.label=function(t,e){let n;if(!t.series.dataLabels.enabled)return;let r=String(t.data.label||t.subTotal),i=t.series.dataLabels.style,{maxHeight:a,maxWidth:l}=l5({labels:[r],style:i});return n=Number(t.data.y)>0||t.data.total?Math.max(a,t.y-t.series.dataLabels.padding):Math.min(e-t.series.dataLabels.padding,t.y+t.height+t.series.dataLabels.padding+a),{text:r,x:t.x+t.width/2,y:n,style:i,size:{width:l,height:a},textAnchor:"middle",series:t.series}}(h,o),m.push(h)}),m};function su(t,e){return t.color?t.color:t.total?e.color:Number(t.y)>0?e.positiveColor:e.negativeColor}function sc(t,e){let n=e.data.indexOf(t);return -1===n?null:e.data.reduce((t,e,r)=>r<=n?t+(e.total?0:Number(e.y)):t,0)}let sh=(0,aK.G)("d3-waterfall"),sd=t=>{let{dispatcher:e,preparedData:n,seriesOptions:r}=t,i=v.useRef(null),a=".".concat(sh("connector"));return v.useEffect(()=>{var t;if(!i.current)return()=>{};let l=aa(i.current),o=aQ()(r,"waterfall.states.hover"),s=aQ()(r,"waterfall.states.inactive");l.selectAll("*").remove();let u=l.selectAll("allRects").data(n).join("rect").attr("class",sh("segment")).attr("x",t=>t.x).attr("y",t=>t.y).attr("height",t=>t.height).attr("width",t=>t.width).attr("fill",t=>su(t.data,t.series)).attr("opacity",t=>t.opacity).attr("cursor",t=>t.series.cursor),c=n.map(t=>t.label).filter(Boolean);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(c=oE(c));let h=l.selectAll("text").data(c).join("text").text(t=>t.text).attr("class",sh("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null);return l.selectAll(a).data(n).join("path").attr("class",sh("connector")).attr("d",(t,e)=>{let r=aN(),i=n[e-1];if(!i)return null;let a=[];return Number(i.data.y)>0?a.push([i.x,i.y]):a.push([i.x,i.y+i.height]),Number(t.data.y)>0&&!t.data.total?a.push([t.x+t.width,t.y+t.height]):a.push([t.x+t.width,t.y]),r(a)}).attr("stroke-width",1).attr("stroke-dasharray",()=>oU(p.Dash,1)),e.on("hover-shape.waterfall",t=>{let e=null==o?void 0:o.enabled,n=null==s?void 0:s.enabled;if(!t){e&&u.attr("fill",t=>su(t.data,t.series)),n&&(u.attr("opacity",null),h.attr("opacity",null));return}if(e){let e=t.map(t=>t.data.x);u.attr("fill",t=>{var n;let r=su(t.data,t.series);if(e.includes(t.data.x)){let t=null==o?void 0:o.brightness;return(null===(n=em(r))||void 0===n?void 0:n.brighter(t).toString())||r}return r})}if(n){let e=t.map(t=>t.series.id);u.attr("opacity",t=>e.includes(t.series.id)?null:(null==s?void 0:s.opacity)||null),h.attr("opacity",t=>e.includes(t.series.id)?null:(null==s?void 0:s.opacity)||null)}}),()=>{e.on("hover-shape.waterfall",null)}},[e,n,r]),v.createElement("g",{ref:i,className:sh()})};n(13306);let sf=t=>{let{boundsWidth:e,boundsHeight:n,dispatcher:r,series:i,seriesOptions:a,xAxis:l,xScale:o,yAxis:s,yScale:u,split:c}=t,h=v.useMemo(()=>{let t=L(lN(i),t=>t.type),h=[];return{shapes:Array.from(t).reduce((t,i)=>{let[d,f]=i;switch(d){case"bar-x":if(o&&u){let e=oq({series:f,seriesOptions:a,xAxis:l,xScale:o,yAxis:s,yScale:u,boundsHeight:n});t.push(v.createElement(oX,{key:"bar-x",dispatcher:r,seriesOptions:a,preparedData:e})),h.push(...e)}break;case"bar-y":if(o&&u){let e=oG({series:f,seriesOptions:a,xAxis:l,xScale:o,yAxis:s,yScale:u});t.push(v.createElement(oZ,{key:"bar-y",dispatcher:r,seriesOptions:a,preparedData:e})),h.push(...e)}break;case"waterfall":if(o&&u){let e=ss({series:f,seriesOptions:a,xAxis:l,xScale:o,yAxis:s,yScale:u});t.push(v.createElement(sd,{key:"waterfall",dispatcher:r,seriesOptions:a,preparedData:e})),h.push(...e)}break;case"line":if(o&&u){let e=o0({series:f,xAxis:l,xScale:o,yAxis:s,yScale:u,split:c});t.push(v.createElement(oQ,{key:"line",dispatcher:r,seriesOptions:a,preparedData:e})),h.push(...e)}break;case"area":if(o&&u){let e=oB({series:f,xAxis:l,xScale:o,yAxis:s,yScale:u,boundsHeight:n});t.push(v.createElement(oY,{key:"area",dispatcher:r,seriesOptions:a,preparedData:e})),h.push(...e)}break;case"scatter":if(o&&u){let e=sr({series:f,xAxis:l,xScale:o,yAxis:s,yScale:u});t.push(v.createElement(sa,{key:"scatter",dispatcher:r,preparedData:e,seriesOptions:a})),h.push(...e)}break;case"pie":{let i=function(t){let{series:e,boundsWidth:n,boundsHeight:r}=t,i=Math.min(n,r)/2;return Array.from(L(e,t=>t.stackId)).map(t=>{var e,a,l;let[o,s]=t,u=s[0],{center:c,borderWidth:h,borderColor:d,borderRadius:f,radius:p,innerRadius:g,dataLabels:m}=u,y=null!==(e=o7({value:p,base:i}))&&void 0!==e?e:i,v={id:o,center:se(n,r,c),innerRadius:null!==(a=o7({value:g,base:y}))&&void 0!==a?a:0,radius:y,segments:[],labels:[],borderColor:d,borderWidth:h,borderRadius:f,series:s[0],connectorCurve:m.connectorCurve,halo:{enabled:u.states.hover.halo.enabled,opacity:u.states.hover.halo.opacity,size:u.states.hover.halo.size}},b=s.map(t=>({value:t.value,color:t.color,opacity:t.opacity,series:t,hovered:!1,active:!0,pie:v}));if(v.segments=o1(b),m.enabled){let{style:t,connectorPadding:e,distance:r}=m,{maxHeight:a}=l5({labels:["Some Label"],style:t}),o=i-e-r-a;v.radius>o&&(v.radius=o,v.innerRadius=null!==(l=o7({value:g,base:v.radius}))&&void 0!==l?l:0);let u=ak().innerRadius(v.radius).outerRadius(v.radius),c=v.radius+r/2,h=ak().innerRadius(c).outerRadius(c),d=v.radius+r,f=ak().innerRadius(d).outerRadius(d),p=d+e,y=ak().innerRadius(p).outerRadius(p),b=[];s.forEach((e,r)=>{let i=b[b.length-1],l=String(e.data.label||e.data.value),o=l5({labels:[l],style:t}).maxWidth,s=v.segments[r],c=t=>{let[e,r]=y.centroid(Object.assign(Object.assign({},s),{startAngle:t,endAngle:t}));return e=Math.max(-n/2,e),r<0&&(r-=a),[e,r]},d=t=>{let e=u.centroid(s),n=f.centroid(Object.assign(Object.assign({},s),{startAngle:t,endAngle:t}));return"straight-line"===m.connectorShape?[e,n]:[e,h.centroid(s),n]},p=Math.max((null==i?void 0:i.angle)||0,s.startAngle+(s.endAngle-s.startAngle)/2),[g,x]=c(p),_={text:l,x:g,y:x,style:t,size:{width:o,height:a},maxWidth:o,textAnchor:p<Math.PI?"start":"end",series:{id:e.id},active:!0,connector:{points:d(p),color:s.data.color},segment:s.data,angle:p},w=!1;if(i&&(w=oS(i,_,m.padding))){let t=!0,e=Math.PI/180;for(;t;){let n=_.angle+e;if(n>st&&n%st>b[0].angle)t=!1;else{_.angle=n;let[e,r]=c(n);_.x=e,_.y=r,_.connector.points=d(n),oS(i,_,m.padding)||(t=!1,w=!1)}}}if(m.allowOverlap||!w){let t=ok(_);if(Math.abs(t)>n/2)_.maxWidth=_.size.width-(Math.abs(t)-n/2);else{let e=t+_.size.width;e>n/2&&(_.maxWidth=_.size.width-(e-n/2))}b.push(_)}}),v.labels=b}return v})}({series:f,boundsWidth:e,boundsHeight:n});t.push(v.createElement(o4,{key:"pie",dispatcher:r,preparedData:i,seriesOptions:a})),h.push(...i);break}case"treemap":{let i=function(t){var e;let{series:n,width:r,height:i}=t,a=n.data.reduce((t,e)=>{let r=Object.assign({},e);return r.parentId||(r.parentId=n.id),t.push(r),t},[{name:n.name,id:n.id}]),l=(function(){var t,e=nw,n=nM;function r(r){var i,a,l,o,s,u,c,h,d=Array.from(r),f=e,p=n,g=new Map;if(null!=t){let e=d.map((e,n)=>{var i;let a;return i=t(e,n,r),a=(i=`${i}`).length,nk(i,a-1)&&!nk(i,a-2)&&(i=i.slice(0,-1)),"/"===i[0]?i:`/${i}`}),n=e.map(nA),i=new Set(e).add("");for(let t of n)i.has(t)||(i.add(t),e.push(t),n.push(nA(t)),d.push(n_));f=(t,n)=>e[n],p=(t,e)=>n[e]}for(l=0,i=d.length;l<i;++l)a=d[l],u=d[l]=new nv(a),null!=(c=f(a,l,r))&&(c+="")&&(h=u.id=c,g.set(h,g.has(h)?nx:u)),null!=(c=p(a,l,r))&&(c+="")&&(u.parent=c);for(l=0;l<i;++l)if(c=(u=d[l]).parent){if(!(s=g.get(c)))throw Error("missing: "+c);if(s===nx)throw Error("ambiguous: "+c);s.children?s.children.push(u):s.children=[u],u.parent=s}else{if(o)throw Error("multiple roots");o=u}if(!o)throw Error("no root");if(null!=t){for(;o.data===n_&&1===o.children.length;)o=o.children[0],--i;for(let t=d.length-1;t>=0&&(u=d[t]).data===n_;--t)u.data=null}if(o.parent=nb,o.eachBefore(function(t){t.depth=t.parent.depth+1,--i}).eachBefore(ny),o.parent=null,i>0)throw Error("cycle");return o}return r.id=function(t){return arguments.length?(e=nc(t),r):e},r.parentId=function(t){return arguments.length?(n=nc(t),r):n},r.path=function(e){return arguments.length?(t=nc(e),r):t},r})().id(t=>t.id||t.name).parentId(t=>t.parentId)(a).sum(t=>t.value||0),o=function(){var t=nT,e=!1,n=1,r=1,i=[0],a=nC,l=nC,o=nC,s=nC,u=nC;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(nS),t}function h(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<c&&(c=d=(c+d)/2),e.x0=r,e.y0=c,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=a(e)/2,r+=u(e)-n,c+=l(e)-n,h-=o(e)-n,d-=s(e)-n,h<r&&(r=h=(r+h)/2),d<c&&(c=d=(c+d)/2),t(e,r,c,h,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=nh(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:nN(+t),c):a},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:nN(+t),c):l},c.paddingRight=function(t){return arguments.length?(o="function"==typeof t?t:nN(+t),c):o},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:nN(+t),c):s},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:nN(+t),c):u},c}();switch(n.layoutAlgorithm){case y.Binary:o.tile(nL);break;case y.Dice:o.tile(nE);break;case y.Slice:o.tile(nD);break;case y.SliceDice:o.tile(nI);break;case y.Squarify:o.tile(nT)}let s=o.size([r,i]).paddingInner(t=>{var e,r;let i=null===(e=n.levels)||void 0===e?void 0:e.find(e=>e.index===t.depth+1);return null!==(r=null==i?void 0:i.padding)&&void 0!==r?r:1})(l).leaves();return{labelData:(null===(e=n.dataLabels)||void 0===e?void 0:e.enabled)?s.map(t=>({text:t.data.name,x:t.x0,y:t.y0,width:t.x1-t.x0,nodeData:t.data})):[],leaves:s,series:n}}({series:f[0],width:e,height:n});t.push(v.createElement(so,{key:"treemap",dispatcher:r,preparedData:i,seriesOptions:a})),h.push(i)}}return t},[]),shapesData:h}},[e,n,r,i,a,l,o,s,u]);return{shapes:h.shapes,shapesData:h.shapesData}},sp=t=>{var e;let{xAxis:n,series:r,width:i}=t,a=aQ()(n,"title.text",""),l=Object.assign(Object.assign({},os.style),aQ()(n,"title.style")),o=aQ()(n,"title.maxRowCount",os.maxRowCount),s=l6({text:a,style:l,width:i}).slice(0,o),u=l5({labels:[a],style:l}),c={fontSize:aQ()(n,"labels.style.fontSize",lo)},h={type:aQ()(n,"type","linear"),labels:{enabled:aQ()(n,"labels.enabled",!0),margin:aQ()(n,"labels.margin",ol.margin),padding:aQ()(n,"labels.padding",ol.padding),dateFormat:aQ()(n,"labels.dateFormat"),numberFormat:aQ()(n,"labels.numberFormat"),rotation:aQ()(n,"labels.rotation",0),style:c,width:0,height:0,lineHeight:l$({text:"Tmp",style:c}),maxWidth:aQ()(n,"labels.maxWidth",ol.maxWidth)},lineColor:aQ()(n,"lineColor"),categories:aQ()(n,"categories"),timestamps:aQ()(n,"timestamps"),title:{text:a,style:l,margin:aQ()(n,"title.margin",os.margin),height:u.maxHeight*s.length,width:u.maxWidth,align:aQ()(n,"title.align",os.align),maxRowCount:aQ()(n,"title.maxRowCount",os.maxRowCount)},min:function(t,e){let n=null==t?void 0:t.min;return void 0===n&&(null==e?void 0:e.some(t=>lM.includes(t.type)))?e.reduce((t,e)=>Math.min(t,e.data.reduce((t,e)=>Math.min(t,aQ()(e,"x",0)),0)),0):n}(n,r),maxPadding:aQ()(n,"maxPadding",.01),grid:{enabled:aQ()(n,"grid.enabled",!0)},ticks:{pixelInterval:aQ()(n,"ticks.pixelInterval")},position:"bottom",plotIndex:0},{height:d,rotation:f}=function(t){let{axis:e,series:n,width:r,autoRotation:i=!0}=t,a=of({scale:ox(e,n,r),count:oh({axis:e,range:r}),maxCount:op({width:r,axis:e})}),l=lj(e,a),o=a.map(t=>lI({axis:e,value:t,step:l})),s=function(t){let{width:e,labels:n,padding:r=0,style:i}=t,a=(e-r*(n.length-1))/n.length,l=aa(document.body).append("text").style("font-size",(null==i?void 0:i.fontSize)||""),o=n.some(t=>{var e,n;return((null===(n=null===(e=l.text(t).node())||void 0===e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width)||0)>a});return l.remove(),o}({width:r,labels:o,padding:e.labels.padding,style:e.labels.style}),u=e.labels.rotation||(s&&i?-45:0),c=u?l5({labels:o,style:e.labels.style,rotation:u}).maxHeight:e.labels.lineHeight;return{height:Math.min(u?o8(u)*e.labels.maxWidth:c,c),rotation:u}}({axis:h,series:r,width:i,autoRotation:null===(e=null==n?void 0:n.labels)||void 0===e?void 0:e.autoRotation});return h.labels.height=d,h.labels.rotation=f,h},sg=t=>{let{axis:e,series:n}=t;if(!e.labels.enabled)return 0;let r=od(ob(e,n,1)),i=lj(e,r);return l5({labels:r.map(t=>lI({axis:e,value:t,step:i})),style:e.labels.style,rotation:e.labels.rotation}).maxWidth},sm=t=>{let{series:e,yAxis:n,height:r}=t,i=[];return(n||[{}]).map(t=>{let n=aQ()(t,"plotIndex",0),a=!i[n];a&&(i[n]=[]),i[n].push(t);let l=aQ()(t,"labels.enabled",!0),o={fontSize:aQ()(t,"labels.style.fontSize",lo)},s=aQ()(t,"title.text",""),u=Object.assign(Object.assign({},ou.style),aQ()(t,"title.style")),c=aQ()(t,"title.maxRowCount",ou.maxRowCount),h=l6({text:s,style:u,width:r}).slice(0,c),d=l5({labels:[s],style:u}),f={type:aQ()(t,"type",oc),labels:{enabled:l,margin:l?aQ()(t,"labels.margin",ol.margin):0,padding:l?aQ()(t,"labels.padding",ol.padding):0,dateFormat:aQ()(t,"labels.dateFormat"),numberFormat:aQ()(t,"labels.numberFormat"),style:o,rotation:aQ()(t,"labels.rotation",0),width:0,height:0,lineHeight:l$({text:"TmpLabel",style:o}),maxWidth:aQ()(t,"labels.maxWidth",ol.maxWidth)},lineColor:aQ()(t,"lineColor"),categories:aQ()(t,"categories"),timestamps:aQ()(t,"timestamps"),title:{text:s,margin:aQ()(t,"title.margin",ou.margin),style:u,width:d.maxWidth,height:d.maxHeight*h.length,align:aQ()(t,"title.align",ou.align),maxRowCount:c},min:function(t,e){let n=null==t?void 0:t.min;return void 0===n&&(null==e?void 0:e.some(t=>lw.includes(t.type)))?e.reduce((t,e)=>"waterfall"===e.type?Math.min(t,e.data.reduce((t,n)=>Math.min(t,sc(n,e)||0),0)):Math.min(t,e.data.reduce((t,e)=>Math.min(t,aQ()(e,"y",0)),0)),0):n}(t,e),maxPadding:aQ()(t,"maxPadding",.05),grid:{enabled:aQ()(t,"grid.enabled",a)},ticks:{pixelInterval:aQ()(t,"ticks.pixelInterval")},position:aQ()(t,"position",a?"left":"right"),plotIndex:aQ()(t,"plotIndex",0)};return l&&(f.labels.width=sg({axis:f,series:e})),f})},sy=t=>{var e;let{split:n,boundsHeight:r,chartWidth:i}=t,a=null!==(e=o7({value:null==n?void 0:n.gap,base:r}))&&void 0!==e?e:0,l=function(t){let{split:e,boundsHeight:n,gap:r}=t,i=(null==e?void 0:e.plots)||[];return i.length>1?(n-r*(i.length-1))/i.length:n}({split:n,boundsHeight:r,gap:a});return{plots:((null==n?void 0:n.plots)||[]).map((t,e)=>{let n=function(t){let{title:e,plotIndex:n,plotHeight:r,chartWidth:i,gap:a}=t,l=(null==e?void 0:e.text)||"",o={fontSize:aQ()(e,"style.fontSize","15px"),fontWeight:aQ()(e,"style.fontWeight")},s=l?l$({text:l,style:o})+16:0;return{text:l,x:i/2,y:n*(r+a)+s/2,style:o,height:s}}({title:t.title,plotIndex:e,gap:a,plotHeight:l,chartWidth:i});return{top:e*(l+a)+n.height,height:l-n.height,title:n}}),gap:a}};var sv=n(7739),sb=n.n(sv);function sx(t,e,n){var r,i;let a=$(n,t=>t.x),l=k(t=>t.x).center(a,t);if(-1===l)return[];let o=a[l].x,s=$(n.filter(t=>t.x===o),t=>t.y0),u=-1;return u=e<(null===(r=s[0])||void 0===r?void 0:r.y0)?0:e>(null===(i=s[s.length-1])||void 0===i?void 0:i.y1)?s.length-1:s.findIndex(t=>e>t.y0&&e<t.y1),s.map((t,e)=>({data:t.data,series:t.series,closest:e===u}))}function s_(t){return aQ()(t,"series.type")||aQ()(t,"point.series.type")}function sw(t,e){let{size:n,color:r}=e,i=t.selectAll(".domain").data([null]).enter().insert("path",".tick").attr("class","domain").attr("d","M0,0V0H".concat(n));r&&i.style("stroke",r)}let sM=(0,aK.G)("d3-axis"),sA=v.memo(function(t){let{axis:e,width:n,height:r,scale:i,split:a}=t,l=v.useRef(null);return v.useEffect(()=>{if(!l.current)return;let t=[];e.grid.enabled&&(t=Array(a.plots.length||1).fill(null).map((t,e)=>{var n,i;let l=(null===(n=a.plots[e])||void 0===n?void 0:n.top)||0;return[-l,-(l+((null===(i=a.plots[e])||void 0===i?void 0:i.height)||r))]}));let o=function(t){let{scale:e,ticks:{labelFormat:n,labelsPaddings:r=0,labelsMargin:i=0,labelsMaxWidth:a=1/0,labelsStyle:l,labelsLineHeight:o,items:s,count:u,maxTickCount:c,rotation:h},domain:{size:d,color:f}}=t,p=window.devicePixelRatio>1?0:.5,g=function(t){var e,n,r;let{scale:i,offset:a}=t;return"bandwidth"in i&&"function"==typeof i.bandwidth?(e=i.copy(),n=a,n=Math.max(0,e.bandwidth()-2*n)/2,e.round()&&(n=Math.round(n)),t=>Number(e(t))+n):(r=i.copy(),t=>Number(r(t)))}({scale:e,offset:p}),m=of({scale:e,count:u,maxCount:c}),y=l5({labels:m,style:l}).maxHeight;return function(t){var e,u;let c=((null===(u=null===(e=t.node())||void 0===e?void 0:e.getBoundingClientRect())||void 0===u?void 0:u.x)||0)+d,v=-s[0][0]||0,b="translate(0, ".concat(y+i-v,"px)");if(h){let t=y*o8(h)+i-v,e=o9(h)*y;Math.abs(h)%360==90&&(e+=(h>0?-1:1)*y/2),b="translate(".concat(-e,"px, ").concat(t,"px) rotate(").concat(h,"deg)")}let x=nF();s.forEach(t=>{let[e,n]=t;x.moveTo(0,e),x.lineTo(0,n)}),t.selectAll(".tick").data(m).order().join(t=>{let e=t.append("g").attr("class","tick");return e.append("path").attr("d",x.toString()).attr("stroke","currentColor"),e.append("text").text(n).attr("fill","currentColor").attr("text-anchor",()=>h?h>0?"start":"end":"middle").style("transform",b).style("alignment-baseline","after-edge"),e}).attr("transform",function(t){return"translate(".concat(g(t)+p,", ").concat(v,")")}),t.select(".tick").filter(t=>0===g(t)).select("line").remove();let _=t.selectAll(".tick text");if(h){let t=a*o8(h)+o*o9(h);_.each(function(){l3(aa(this),t)})}else{let e=0;t.selectAll(".tick").filter(function(){let t=this.getBoundingClientRect();return t.left<e||(e=t.right+r,!1)}).remove(),_.each(function(t,e,n){if(e===n.length-1){let t=n[e-1],i=aa(this),a=this.getBoundingClientRect(),l=null==t?void 0:t.getBoundingClientRect(),o=Math.max(0,a.right-c);if(o){let t=c-((null==l?void 0:l.right)||0)-r,e=a.width/2-o;i.attr("text-anchor","end").attr("transform","translate(".concat(e,",0)")),l3(i,t)}}})}t.call(sw,{size:d,color:f}).style("font-size",(null==l?void 0:l.fontSize)||"")}}({scale:i,ticks:{items:t,labelFormat:function(t){let{axis:e,scale:n}=t,r=lj(e,od(n));return t=>e.labels.enabled?lI({axis:e,value:t,step:r}):""}({axis:e,scale:i}),labelsPaddings:e.labels.padding,labelsMargin:e.labels.margin,labelsStyle:e.labels.style,labelsMaxWidth:e.labels.maxWidth,labelsLineHeight:e.labels.lineHeight,count:oh({axis:e,range:n}),maxTickCount:op({axis:e,width:n}),rotation:e.labels.rotation},domain:{size:n,color:e.lineColor}}),s=aa(l.current);if(s.selectAll("*").remove(),s.call(o).attr("class",sM()),e.title.text){let t=om({axis:e,textMaxWidth:n});s.append("text").attr("class",sM("title")).attr("transform",()=>{let{x:r,y:i}=function(t){let e;let{axis:n,width:r,rowCount:i}=t;if(i<1)return{x:0,y:0};let a=n.title.height/i+n.title.margin+n.labels.height+n.labels.margin;switch(n.title.align){case"left":e=n.title.width/2;break;case"right":e=r-n.title.width/2;break;case"center":e=r/2}return{x:e,y:a}}({axis:e,width:n,rowCount:t.length});return"translate(".concat(r,", ").concat(i,")")}).attr("font-size",e.title.style.fontSize).attr("text-anchor","middle").selectAll("tspan").data(t).join("tspan").attr("x",0).attr("y",t=>t.y).text(t=>t.text).each((t,r,i)=>{r===e.title.maxRowCount-1&&l2(i[r],n)})}},[e,n,r,i,a]),v.createElement("g",{ref:l})}),sk=(0,aK.G)("d3-axis"),sS=t=>{let{axes:e,width:n,height:r,scale:i,split:a}=t,l=og({split:a,boundsHeight:r}),o=v.useRef(null);return v.useEffect(()=>{if(!o.current)return;let t=aa(o.current);t.selectAll("*").remove();let r=t.selectAll("axis").data(e).join("g").attr("class",sk()).style("transform",t=>{var e;let r=(null===(e=a.plots[t.plotIndex])||void 0===e?void 0:e.top)||0;return"left"===t.position?"translate(0, ".concat(r,"px)"):"translate(".concat(n,"px, 0)")});r.each((t,e,r)=>{let a=i[e],o=aa(r[e]);if((function(t){let{preparedAxis:e,axisGenerator:n,width:r,height:i,scale:a}=t,l=e.grid.enabled?-1*r:0,o=lj(e,od(a)),s=n.tickSize(l).tickPadding(e.labels.margin).tickFormat(t=>e.labels.enabled?lI({axis:e,value:t,step:o}):""),u=oh({axis:e,range:i});return u&&(s=s.ticks(u)),s})({axisGenerator:"left"===t.position?W(4,a):W(2,a),preparedAxis:t,height:l,width:n,scale:a})(o),t.labels.enabled){let e=o.selectAll(".tick text").attr("x",null).attr("dy",null).style("font-size",t.labels.style.fontSize).style("transform",function(){return function(t){let{node:e,axis:n}=t,r=n.labels.lineHeight/2,i=n.labels.margin;return("left"===n.position&&(i*=-1),n.labels.rotation)?(n.labels.rotation>0?(i-=n.labels.lineHeight*o9(n.labels.rotation),r=n.labels.lineHeight*o8(n.labels.rotation),n.labels.rotation%360==90&&(r=((null==e?void 0:e.getBoundingClientRect().width)||0)/2)):(r=0,n.labels.rotation%360==-90&&(r=-((null==e?void 0:e.getBoundingClientRect().width)||0)/2)),"translate(".concat(i,"px, ").concat(r,"px) rotate(").concat(n.labels.rotation,"deg)")):"translate(".concat(i,"px, ").concat(r,"px)")}({node:this,axis:t})}),n=t.labels.rotation&&Math.abs(t.labels.rotation)%360==90?(l-t.labels.padding*(e.size()-1))/e.size():t.labels.maxWidth;e.call(l4,n)}if(!t.labels.rotation){let e=0;o.selectAll(".tick").filter(function(n,r){let i=this.getBoundingClientRect();return i.bottom>e&&0!==r||(e=i.top-t.labels.padding,!1)}).remove()}return o}),r.select(".domain").attr("d",()=>{let t=[[0,0],[0,l]];return aN()(t)}).style("stroke",t=>t.lineColor||""),t.selectAll(".tick").each((t,e,n)=>{let r=aa(n[e]);lL(r.attr("transform")).y===l&&r.select("line").style("stroke","none")}),r.append("text").attr("class",sk("title")).attr("text-anchor","middle").attr("font-size",t=>t.title.style.fontSize).attr("transform",t=>{let e=Math.min(l6({text:t.title.text,style:t.title.style,width:l}).length,t.title.maxRowCount),{x:n,y:r}=function(t){let e;let{axis:n,axisHeight:r,rowCount:i}=t;if(i<1)return{x:0,y:0};let a=-(n.title.height-n.title.height/i+n.title.margin+n.labels.margin+n.labels.width);switch(n.title.align){case"left":e=r-n.title.width/2;break;case"right":e=n.title.width/2;break;case"center":e=r/2}return{x:a,y:e}}({axis:t,axisHeight:l,rowCount:e}),i="left"===t.position?-90:90;return"translate(".concat(n,", ").concat(r,") rotate(").concat(i,")")}).selectAll("tspan").data(t=>om({axis:t,textMaxWidth:l})).join("tspan").attr("x",0).attr("y",t=>t.y).text(t=>t.text).each((t,e,n)=>{e===n.length-1&&l2(n[e],l)})},[e,n,l,i,a]),v.createElement("g",{ref:o,className:sk("container")})},sE=(0,aK.G)("d3-legend"),sD=t=>{let{align:e,offsetWidth:n,width:r,contentWidth:i}=t;return"left"===e?{top:0,left:n}:"right"===e?{top:0,left:n+r-i}:{top:0,left:n+r/2-i/2}},sT=t=>{let{container:e,offset:n,maxPage:r,legend:i,transform:a,onArrowClick:l}=t,o=e.append("g").attr("class",sE("pagination")),s=0;o.append("text").text("").attr("class",function(){return sE("pagination-arrow",{inactive:0===n})}).style("font-size",i.itemStyle.fontSize).each(function(){s+=this.getComputedTextLength()}).on("click",function(){n-1>=0&&l(n-1)}),o.append("text").text("".concat(n+1,"/").concat(r)).attr("class",sE("pagination-counter")).attr("x",s).style("font-size",i.itemStyle.fontSize).each(function(){s+=this.getComputedTextLength()}),o.append("text").text("").attr("class",function(){return sE("pagination-arrow",{inactive:n===r-1})}).attr("x",s).style("font-size",i.itemStyle.fontSize).on("click",function(){n+1<r&&l(n+1)}),o.attr("transform",a)},sC=aN().x(t=>t.x).y(t=>t.y),sN=t=>{let{boundsWidth:e,chartSeries:n,legend:r,items:i,config:a,onItemClick:l}=t,o=v.useRef(null),[s,u]=v.useState(0);return v.useEffect(()=>{u(0)},[e]),v.useEffect(()=>{var t;if(!o.current)return;let n=aa(o.current);n.selectAll("*").remove();let c=null===(t=a.pagination)||void 0===t?void 0:t.limit;if(("number"==typeof c?i.slice(s*c,s*c+c):i).forEach((t,i)=>{var o;let s=n.append("g").attr("class",sE("line")),u=s.selectAll("legend-history").data(t).enter().append("g").attr("class",sE("item")).on("click",function(t,e){l({name:e.name,metaKey:t.metaKey})}),c=e=>t.slice(0,e).reduce((t,e)=>t+e.symbol.width+e.symbol.padding+e.textWidth+r.itemDistance,0);(function(t){let{selection:e,legend:n}=t,r=e.data(),i=t=>r.slice(0,t).reduce((t,e)=>t+e.symbol.width+e.symbol.padding+e.textWidth+n.itemDistance,0);e.each(function(t,e){let r=aa(this),a=i(e),l=sE("item-symbol",{shape:t.symbol.shape,unselected:!t.visible}),o=t.visible?t.color:"";switch(t.symbol.shape){case"path":{let e=n.lineHeight/2,i=[{x:a,y:e},{x:a+t.symbol.width,y:e}];r.append("path").attr("d",sC(i)).attr("fill","none").attr("stroke-width",t.symbol.strokeWidth).attr("class",l).style("stroke",o),t.dashStyle&&r.attr("stroke-dasharray",oU(t.dashStyle,t.symbol.strokeWidth));break}case"rect":{let e=(n.lineHeight-t.symbol.height)/2;r.append("rect").attr("x",a).attr("y",e).attr("width",t.symbol.width).attr("height",t.symbol.height).attr("rx",t.symbol.radius).attr("class",l).style("fill",o);break}case"symbol":{let e=n.lineHeight/2;r.append("svg:path").attr("d",()=>aF(on(t.symbol.symbolType),t.symbol.width*t.symbol.width)()).attr("transform",()=>"translate("+a+","+e+")").attr("class",l).style("fill",o)}}})})({selection:u,legend:r}),u.append("text").attr("x",function(t,e){return c(e)+t.symbol.width+t.symbol.padding}).attr("height",r.lineHeight).attr("class",function(t){return sE("item-text",{selected:t.visible,unselected:!t.visible})}).text(function(t){return"name"in t&&t.name}).style("font-size",r.itemStyle.fontSize);let h=(null===(o=s.node())||void 0===o?void 0:o.getBoundingClientRect().width)||0,{left:d}=sD({align:r.align,width:e,offsetWidth:a.offset.left,contentWidth:h}),f=a.offset.top+r.lineHeight*i;s.attr("transform","translate(".concat([d,f].join(","),")"))}),a.pagination){let t="translate(".concat([a.offset.left,a.offset.top+r.lineHeight*a.pagination.limit+r.lineHeight/2].join(","),")");sT({container:n,offset:s,maxPage:a.pagination.maxPage,legend:r,transform:t,onArrowClick:u})}},[e,n,l,r,i,a,s]),v.createElement("g",{ref:o,width:e,height:r.height})},sL=(0,aK.G)("d3-plot-title"),sI=t=>{let{title:e}=t;if(!e)return null;let{x:n,y:r,text:i,style:a,height:l}=e;return v.createElement("text",{className:sL(),dx:n,dy:r,dominantBaseline:"middle",textAnchor:"middle",style:Object.assign({lineHeight:"".concat(l,"px")},a)},v.createElement("tspan",null,i))},s$=(0,aK.G)("d3-title"),sz=t=>{let{chartWidth:e,text:n,height:r,style:i}=t;return v.createElement("text",{className:s$(),dx:e/2,dy:r/2,dominantBaseline:"middle",textAnchor:"middle",style:Object.assign({lineHeight:"".concat(r,"px")},i)},v.createElement("tspan",null,n))};var sO=n(98819),sj=n(555);let sR=t=>{let{dispatcher:e,tooltip:n}=t,[{hovered:r,pointerPosition:i},a]=v.useState({});return v.useEffect(()=>((null==n?void 0:n.enabled)&&e.on("hover-shape.tooltip",(t,e)=>{a({hovered:t,pointerPosition:e})}),()=>{(null==n?void 0:n.enabled)&&e.on("hover-shape.tooltip",null)}),[e,n]),{hovered:r,pointerPosition:i}},sF=(0,aK.G)("d3-tooltip"),sW=(t,e,n)=>{switch(e.type){case"category":return lO({axisDirection:t,categories:aQ()(e,"categories",[]),data:n});case"datetime":{let e=aQ()(n,t);if(!e)return;return(0,a3.CQ)({input:e}).format("DD.MM.YY")}default:return la(aQ()(n,t))}},sH=(t,e)=>sW("x",t,e),sU=(t,e)=>sW("y",t,e),sP=(t,e,n)=>{var r,i;return t.every(t=>["pie","treemap","waterfall"].includes(t.series.type))?null:t.some(t=>"bar-y"===t.series.type)?sU(n,null===(r=t[0])||void 0===r?void 0:r.data):sH(e,null===(i=t[0])||void 0===i?void 0:i.data)},sY=t=>{let{hovered:e,xAxis:n,yAxis:r}=t,i=sP(e,n,r);return v.createElement(v.Fragment,null,i&&v.createElement("div",null,i),e.map((t,e)=>{let{data:i,series:a,closest:l}=t,o="".concat(aQ()(a,"id"),"_").concat(e),s=aQ()(a,"color");switch(a.type){case"scatter":case"line":case"area":case"bar-x":{let t=v.createElement(v.Fragment,null,a.name,": ",sU(r,i));return v.createElement("div",{key:o,className:sF("content-row")},v.createElement("div",{className:sF("color"),style:{backgroundColor:s}}),v.createElement("div",null,l?v.createElement("b",null,t):v.createElement("span",null,t)))}case"waterfall":{let t=aQ()(i,"total",!1),e=sc(i,a);return v.createElement("div",{key:"".concat(o,"_").concat(aQ()(i,"x"))},!t&&v.createElement(v.Fragment,null,v.createElement("div",{key:o,className:sF("content-row")},v.createElement("b",null,sH(n,i))),v.createElement("div",{className:sF("content-row")},v.createElement("span",null,a.name,"\xa0"),v.createElement("span",null,sU(r,i)))),v.createElement("div",{key:o,className:sF("content-row")},t?"Total":"Subtotal",": ",e))}case"bar-y":{let t=v.createElement(v.Fragment,null,a.name,": ",sH(n,i));return v.createElement("div",{key:o,className:sF("content-row")},v.createElement("div",{className:sF("color"),style:{backgroundColor:s}}),v.createElement("div",null,l?v.createElement("b",null,t):v.createElement("span",null,t)))}case"pie":case"treemap":return v.createElement("div",{key:o,className:sF("content-row")},v.createElement("div",{className:sF("color"),style:{backgroundColor:s}}),v.createElement("span",null,i.name||i.id,"\xa0"),v.createElement("span",null,i.value));default:return null}}))},sB=(0,aK.G)("d3-tooltip"),sq=t=>{let{tooltip:e,xAxis:n,yAxis:r,svgContainer:i,dispatcher:a}=t,{hovered:l,pointerPosition:o}=sR({dispatcher:a,tooltip:e}),s=(null==i?void 0:i.getBoundingClientRect())||{left:0,top:0},u=((null==o?void 0:o[0])||0)+s.left,c=((null==o?void 0:o[1])||0)+s.top,h=(0,sO.J)({rect:{top:c,left:u}}),d=v.useMemo(()=>{var t;if(!l)return null;let i=null===(t=e.renderer)||void 0===t?void 0:t.call(e,{hovered:l});return a5()(i)?v.createElement(sY,{hovered:l,xAxis:n,yAxis:r}):i},[l,e,n,r]);return v.useEffect(()=>{window.dispatchEvent(new CustomEvent("scroll"))},[u,c]),(null==l?void 0:l.length)?v.createElement(sj.G,{className:sB(),open:!0,anchorRef:h,offset:[0,20],placement:["right","left","top","bottom"],modifiers:[{name:"preventOverflow",options:{padding:10,altAxis:!0}}]},v.createElement("div",{className:sB("content")},d)):null};n(47623);let sV=(0,aK.G)("d3"),sX=t=>{var e,n;let{width:r,height:i,data:a}=t,l=v.useRef(null),o=v.useMemo(()=>aZ(),[]),{chart:s,title:u,tooltip:c}=lW({data:a}),h=v.useMemo(()=>sp({xAxis:a.xAxis,width:r,series:a.series.data}),[a,r]),d=v.useMemo(()=>sm({series:a.series.data,yAxis:a.yAxis,height:i}),[a,i]),{legendItems:f,legendConfig:p,preparedSeries:g,preparedSeriesOptions:m,preparedLegend:y,handleLegendItemClick:b}=or({chartWidth:r,chartHeight:i,chartMargin:s.margin,series:a.series,legend:a.legend,preparedYAxis:d}),{boundsWidth:x,boundsHeight:_}=oa({width:r,height:i,margin:s.margin,preparedLegend:y,preparedXAxis:h,preparedYAxis:d,preparedSeries:g}),w=sy({split:a.split,boundsHeight:_,chartWidth:r}),{xScale:M,yScale:A}=ow({boundsWidth:x,boundsHeight:_,series:g,xAxis:h,yAxis:d,split:w}),{shapes:S,shapesData:E}=sf({boundsWidth:x,boundsHeight:_,dispatcher:o,series:g,seriesOptions:m,xAxis:h,xScale:M,yAxis:d,yScale:A,split:w}),D=null===(n=null===(e=a.chart)||void 0===e?void 0:e.events)||void 0===n?void 0:n.click;v.useEffect(()=>(D&&o.on("click-chart",D),()=>{o.on("click-chart",null)}),[o,D]);let T=s.margin.top,C=s.margin.left+lV(d[0]),N=aG()(t=>{let[e,n]=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(t,l.current),r=e-C,i=n-T;if(r<0||r>x||i<0||i>_){o.call("hover-shape",{},void 0);return}let a=function(t){let{position:e,shapesData:n}=t,[r,i]=e,a=[];return Object.entries(sb()(n,s_)).forEach(t=>{var e,n;let[l,o]=t;switch(l){case"bar-x":{let t=o.map(t=>({data:t.data,series:t.series,x:t.x+t.width/2,y0:t.y,y1:t.y+t.height}));a.push(...sx(r,i,t));break}case"waterfall":{let t=o.map(t=>({data:t.data,series:t.series,x:t.x+t.width/2,y0:t.y,y1:t.y+t.height}));a.push(...sx(r,i,t));break}case"area":{let t=o.reduce((t,e)=>(Array.prototype.push.apply(t,e.points.map(t=>({data:t.data,series:t.series,x:t.x,y0:t.y0,y1:t.y}))),t),[]);a.push(...sx(r,i,t));break}case"line":{let t=o.reduce((t,e)=>(t.push(...e.points.map(t=>({data:t.data,series:t.series,x:t.x,y0:t.y,y1:t.y}))),t),[]);a.push(...sx(r,i,t));break}case"bar-y":{let t=$(o,t=>t.y),n=k(t=>t.y).center(t,i),l=[],s=-1;if(-1!==n){let i=t[n].y,a=(l=$(o.filter(t=>t.y===i),t=>t.x))[l.length-1];s=r<(null===(e=l[0])||void 0===e?void 0:e.x)?0:a&&r>a.x+a.width?l.length-1:l.findIndex(t=>r>t.x&&r<t.x+t.width)}a.push(...l.map((t,e)=>({data:t.data,series:t.series,closest:e===s})));break}case"scatter":{let t=nu.from(o,t=>t.point.x,t=>t.point.y),e=o[t.find(r,i)];e&&a.push({data:e.point.data,series:e.point.series,closest:!0});break}case"pie":{let t=o.map(t=>t.segments).flat().find(t=>{let{center:e,radius:n}=t.data.pie,a=r-e[0],l=i-e[1],o=Math.atan2(l,a)+.5*Math.PI;return(o=o<0?2*Math.PI+o:o)>=t.startAngle&&o<=t.endAngle&&Math.sqrt(a*a+l*l)<n});t&&a.push({data:t.data.series.data,series:t.data.series,closest:!0});break}case"treemap":{let t=null===(n=o[0])||void 0===n?void 0:n.leaves.find(t=>r>=t.x0&&r<=t.x1&&i>=t.y0&&i<=t.y1);t&&a.push({data:t.data,series:o[0].series,closest:!0})}}}),a}({position:[r,i],shapesData:E});o.call("hover-shape",t.target,a,[e,n])},50);return v.createElement(v.Fragment,null,v.createElement("svg",{ref:l,className:sV(),width:r,height:i,onMouseMove:N,onMouseLeave:()=>{N.cancel(),o.call("hover-shape",{},void 0)}},u&&v.createElement(sz,Object.assign({},u,{chartWidth:r})),v.createElement("g",{transform:"translate(0, ".concat(T,")")},w.plots.map((t,e)=>v.createElement(sI,{key:"plot-".concat(e),title:t.title}))),v.createElement("g",{width:x,height:_,transform:"translate(".concat([C,T].join(","),")")},M&&(null==A?void 0:A.length)&&v.createElement(v.Fragment,null,v.createElement(sS,{axes:d,width:x,height:_,scale:A,split:w}),v.createElement("g",{transform:"translate(0, ".concat(_,")")},v.createElement(sA,{axis:h,width:x,height:_,scale:M,split:w}))),S),y.enabled&&v.createElement(sN,{chartSeries:g,boundsWidth:x,legend:y,items:f,config:p,onItemClick:b})),v.createElement(sq,{dispatcher:o,tooltip:c,svgContainer:l.current,xAxis:h,yAxis:d[0]}))};var sG=n(41609),sK=n.n(sG),sZ=n(68809);let sJ=Object.values(lc),sQ=t=>{let{series:e,xAxis:n,yAxis:r=[]}=t,i=aQ()(e,"yAxis",0),a=r[i];if(0!==i&&void 0===a)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-y-axis-index",{index:i})});let l=aQ()(n,"type",oc),o=aQ()(a,"type",oc);e.data.forEach(t=>{let{x:n,y:r}=t;switch(l){case"category":if("string"!=typeof n&&"number"!=typeof n)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-axis-category-data-point",{key:"x",seriesName:e.name})});break;case"datetime":if("number"!=typeof n)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-axis-datetime-data-point",{key:"x",seriesName:e.name})});break;case"linear":if("number"!=typeof n&&null!==n)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-axis-linear-data-point",{key:"x",seriesName:e.name})})}switch(o){case"category":if("string"!=typeof r&&"number"!=typeof r)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-axis-category-data-point",{key:"y",seriesName:e.name})});break;case"datetime":if("number"!=typeof r)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-axis-datetime-data-point",{key:"y",seriesName:e.name})});break;case"linear":if("number"!=typeof r&&null!==r)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-axis-linear-data-point",{key:"y",seriesName:e.name})})}})},s0=t=>{let{series:e}=t;e.data.forEach(t=>{let{value:e}=t;if("number"!=typeof e)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-pie-data-value")})})},s1=t=>{let{series:e}=t,n=["normal","percent"];if(e.stacking&&!n.includes(e.stacking))throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-series-property",{key:"stacking",values:n})})},s2=t=>{let{series:e}=t,n={};e.data.forEach(t=>{t.parentId&&!n[t.parentId]&&(n[t.parentId]=!0)}),e.data.forEach(t=>{let e=t.id||t.name;if(n[e]&&"number"==typeof t.value)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-treemap-redundant-value",{id:t.id,name:t.name})});if(!n[e]&&"number"!=typeof t.value)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-treemap-missing-value",{id:t.id,name:t.name})})})},s3=t=>{let{series:e,xAxis:n,yAxis:r}=t;if(!sJ.includes(e.type))throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:(0,sZ.a)("error","label_invalid-series-type",{types:sJ.join(", ")})});switch(e.type){case"area":case"bar-y":case"bar-x":sQ({series:e,xAxis:n,yAxis:r}),s1({series:e});break;case"line":case"scatter":sQ({series:e,xAxis:n,yAxis:r});break;case"pie":s0({series:e});break;case"treemap":s2({series:e})}},s4=t=>{let{series:e,type:n}=t,r=0;return e.forEach(t=>{t.type===n&&(r+=1)}),r},s5=t=>{if(sK()(t)||sK()(t.series)||sK()(t.series.data))throw new l0.Dx({code:l0.Wn.NO_DATA,message:(0,sZ.a)("error","label_no-data")});if(t.series.data.some(t=>sK()(t.data)))throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:"You should specify data for all series"});if(s4({series:t.series.data,type:lc.Treemap})>1)throw new l0.Dx({code:l0.Wn.INVALID_DATA,message:'It looks like you are trying to define more than one "treemap" series.'});t.series.data.forEach(e=>{s3({series:e,yAxis:t.yAxis,xAxis:t.xAxis})})};var s6=v.forwardRef(function(t,e){let{data:n,onLoad:r,onRender:i,onChartLoad:a}=t,l=v.useRef(),o=v.useRef(null),s=v.useRef(),[u,c]=v.useState(),h=v.useRef(aq()),d=v.useCallback(()=>{var t;let e=null===(t=o.current)||void 0===t?void 0:t.parentElement;if(e){let{width:t,height:n}=e.getBoundingClientRect();c({width:t,height:n})}},[]),f=v.useMemo(()=>{var t;return null===(t=s.current)||void 0===t||t.cancel(),s.current=aB()(d,200),s.current},[d]);return v.useImperativeHandle(e,()=>({reflow(){f()}}),[f]),v.useEffect(()=>{let t=aa(window),e="resize.".concat((0,aV.p)());return t.on(e,f),()=>{t.on(e,null)}},[f]),v.useEffect(()=>{f()},[f]),l.current!==n&&(s5(n),l.current=n),v.useLayoutEffect(()=>{a&&a({})},[a]),v.useLayoutEffect(()=>{(null==u?void 0:u.width)&&(h.current||(h.current=aq()),w(()=>{var t;let e=null===(t=h.current)||void 0===t?void 0:t.end();null==i||i({renderTime:e}),null==r||r({widgetRendering:e}),h.current=null}))},[n,i,r,u]),v.createElement("div",{ref:o,style:{width:(null==u?void 0:u.width)||"100%",height:(null==u?void 0:u.height)||"100%",position:"relative"}},(null==u?void 0:u.width)&&(null==u?void 0:u.height)&&v.createElement(sX,{width:u.width,height:u.height,data:n}))})},47623:function(){},13306:function(){}}]);